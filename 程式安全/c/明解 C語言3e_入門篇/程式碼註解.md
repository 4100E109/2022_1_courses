明解C語言


#  ch1
## list0101.c
```c
/*
	顯示整數15和37的和
*/

#include <stdio.h>

int main(void)
{
	printf("%d", 15 + 37);		/* 用十進位數字顯示整數15和37的和 */

	return 0;
}
```
## list0102.c
```c
/*
	顯示整數15減去37的差
*/

#include <stdio.h>

int main(void)
{
	printf("%d", 15 - 37);	/* 用十進位數字顯示整數15減去37的值 */

	return 0;
}
```
## list0103.c
```c
/*
	人性化地顯示15與37的和
*/

#include <stdio.h>

int main(void)
{
	printf("15與37的和是%d。\n", 15 + 37);		/* 顯示結果後換行 */

	return 0;
}
```
## list0104.c
```c
/*
	打招呼並進行自我介紹
*/

#include <stdio.h>

int main(void)
{
	printf("您好！我叫柴田望洋。\n");	/* 顯示結果後換行 */

	return 0;
}
```
## list0105.c
```c
/*
	打招呼並進行自我介紹（打招呼和自我介紹分行顯示· 其1）
*/

#include <stdio.h>

int main(void)
{
	printf("您好！\n我叫柴田望洋。\n");	/* 中間和最後換行 */

	return 0;
}
```
## list0106.c
```c
/*
	打招呼並進行自我介紹（打招呼和自我介紹分行顯示· 其2）
*/

#include <stdio.h>

int main(void)
{
	printf("您好！\n");				/* 顯示後換行 */
	printf("我叫柴田望洋。\n");	/* 顯示後換行 */

	return 0;
}
```
## list0107.c
```c
/*
	打招呼並響鈴3次
*/

#include <stdio.h>

int main(void)
{
	printf("您好！\a\a\a\n");		/* 在顯示的同時發出3次響鈴 */

	return 0;
}
```
## list0108.c
```c
/*
	為兩個變數賦整數值並顯示
*/

#include <stdio.h>

int main(void)
{
	int vx, vy;							/* vx和vy是int類型的變數 */

	vx = 57;							/* 把57賦給vx */
	vy = vx + 10;						/* 把vx+10賦給vy */

	printf("vx的值是%d。\n", vx);	/* 顯示vx的值 */
	printf("vy的值是%d。\n", vy);	/* 顯示vy的值 */

	return 0;
}
```
## list0109.c
```c
/*
	在不為兩個變數賦值的情況下顯示
*/

#include <stdio.h>

int main(void)
{
	int vx, vy;							/* vvx和vy都是int型的變數 */

	printf("vx的值是%d。\n", vx);	/* 顯示vx的值 */
	printf("vy的值是%d。\n", vy);	/* 顯示vy的值 */

	return 0;
}
```
## list0110.c
```c
/*
	對兩個變數進行初始化並顯示
*/

#include <stdio.h>

int main(void)
{
	int vx = 57;					/* vx是int型的變數（初始化為57）*/
	int vy = vx + 10;				/* vy是int型的變數（初始化為vx+10）*/

	printf("vx的值是%d。\n", vx);	/* 顯示vx的值 */
	printf("vy的值是%d。\n", vy);	/* 顯示vy的值 */

	return 0;
}
```
## list0111.c
```c
/*
	顯示並確認輸入的整數值
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);							/* 讀取整數值 */

	printf("您輸入的是%d。\n", no);

	return 0;
}
```
## list0112.c
```c
/*
	讀取一個整數並顯示其5倍數的值
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);							/* 讀取整數值 */

	printf("它的5倍數是%d。\n", 5 * no);

	return 0;
}
```
## list0113.c
```c
/*
	顯示出讀取到的兩個整數的和
*/

#include <stdio.h>

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	printf("它們的和是%d。\n", n1 + n2);		/* 顯示和*/

	return 0;
}
```
## list0114.c
```c
/*
	顯示出讀取到的兩個整數的和
*/

#include <stdio.h>

int main(void)
{
	int n1, n2;
	int wa;		/* 和 */

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	wa = n1 + n2;								/* 把n1與n2的和賦給變數wa */

	printf("它們的和是%d。\n", wa);		/* 顯示和 */

	return 0;
}
```
## summary.c
```c
/*
	求長方形的面積
*/

#include <stdio.h>

int main(void)
{
	int width;		/* 長方形的長 */
	int height;		/* 長方形的寬 */

	puts("求長方形的面積");

	printf("長：");
	scanf("%d", &width);

	printf("寬：");
	scanf("%d", &height);

	/* 顯示 */
	printf("面積是%d。\a\n", width * height);

	return 0;
}
```


#  ch2
## list0201.c
```c
/*
	讀取兩個整數的值，然後顯示出它們的和、差、積、商和餘數
*/

#include <stdio.h>

int main(void)
{
	int vx, vy;

	puts("請輸入兩個整數。");
	printf("整數vx：");   scanf("%d", &vx);
	printf("整數vy：");   scanf("%d", &vy);

	printf("vx + vy = %d\n",  vx + vy);
	printf("vx - vy = %d\n",  vx - vy);
	printf("vx * vy = %d\n",  vx * vy);
	printf("vx / vy = %d\n",  vx / vy);
	printf("vx %% vy = %d\n", vx % vy);

	return 0;
}
```
## list0202.c
```c
/*
	顯示讀取出的整數的最後一位元數位
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);							/* 讀取整數的值 */

	printf("最後一位是%d。\n", no % 10);

	return 0;
}
```
## list0203.c
```c
/*
	讀取兩個整數，顯示它們的商和餘數
*/

#include <stdio.h>

int main(void)
{
	int a, b;

	puts("請輸入兩個整數。");
	printf("整數a：");   scanf("%d", &a);
	printf("整數b：");   scanf("%d", &b);

	printf("a除以b得%d餘%d。\n", a / b, a % b);

	return 0;
}
```
## list0204.c
```c
/*
	對讀取的整數值進行符號取反操作，並輸出結果
*/

#include <stdio.h>

int main(void)
{
	int num;

	printf("請輸入一個整數：");
	scanf("%d", &num);								/* 讀取整數值 */

	printf("符號取反之後的值是%d。\n", -num);	/* 單目-運算子 */

	return 0;
}
```
## list0205.c
```c
/*
	讀取兩個整數，顯示出它們的平均值
*/

#include <stdio.h>

int main(void)
{
	int a, b;

	puts("請輸入兩個整數。");
	printf("整數a：");   scanf("%d", &a);
	printf("整數b：");   scanf("%d", &b);

	printf("它們的平均值是%d。\n", (a + b) / 2);

	return 0;
}
```
## list0206.c
```c
/*
	整數和浮點數
*/

#include <stdio.h>

int main(void)
{
	int n;			/* 整數 */
	double x;		/* 浮點數 */

	n = 9.99;
	x = 9.99;

	printf("int    型變數n的值：%d\n", n);			/*    9      */
	printf("             n / 2：%d\n", n / 2);		/*    9 / 2  */

	printf("double 型變數x的值：%f\n", x);			/* 9.99       */
	printf("             x/2.0：%f\n", x / 2.0);	/* 9.99 / 2.0 */

	return 0;
}
```
## list0207.c
```c
/*
	讀取兩個實數值，用實數顯示出它們的和、差、積、商
*/

#include <stdio.h>

int main(void)
{
	double vx, vy;		/* 浮點數 */

	puts("請輸入兩個數。");
	printf("實數vx：");   scanf("%lf", &vx);
	printf("實數vy：");   scanf("%lf", &vy);

	printf("vx + vy = %f\n",  vx + vy);
	printf("vx - vy = %f\n",  vx - vy);
	printf("vx * vy = %f\n",  vx * vy);
	printf("vx / vy = %f\n",  vx / vy);

	return 0;
}
```
## list0208.c
```c
/*
	驗證資料類型和運算
*/

#include <stdio.h>

int main(void)
{
	int    n1, n2, n3, n4;	/* 整數 */
	double d1, d2, d3, d4;	/* 浮點數 */

	n1 = 5   / 2;			/* n1 ← 2   */
	n2 = 5.0 / 2.0;			/* n2 ← 2.5 （賦值時捨棄小數點以後的部分）*/
	n3 = 5.0 / 2;			/* n3 ← 2.5 （賦值時捨棄小數點以後的部分）*/
	n4 = 5   / 2.0;			/* n4 ← 2.5 （賦值時捨棄小數點以後的部分）*/

	d1 = 5   / 2;			/* d1 ← 2    */
	d2 = 5.0 / 2.0;			/* d2 ← 2.5  */
	d3 = 5.0 / 2;			/* d3 ← 2.5  */
	d4 = 5   / 2.0;			/* d4 ← 2.5  */

	printf("n1 = %d\n", n1);
	printf("n2 = %d\n", n2);
	printf("n3 = %d\n", n3);
	printf("n4 = %d\n\n", n4);

	printf("d1 = %f\n", d1);
	printf("d2 = %f\n", d2);
	printf("d3 = %f\n", d3);
	printf("d4 = %f\n", d4);

	return 0;
}
```
## list0209.c
```c
/*
	讀取兩個整數並用浮點數顯示出它們平均值
*/

#include <stdio.h>

int main(void)
{
	int a, b;

	puts("請輸入兩個整數。");
	printf("整數a：");   scanf("%d", &a);
	printf("整數b：");   scanf("%d", &b);

	printf("它們的平均值是%f。\n", (a + b) / 2.0);

	return 0;
}
```
## list0210.c
```c
/*
	讀取兩個整數並用實數顯示出它們的平均值（類型轉換）
*/

#include <stdio.h>

int main(void)
{
	int a, b;

	puts("請輸入兩個整數。");
	printf("整數a：");   scanf("%d", &a);
	printf("整數b：");   scanf("%d", &b);

	printf("它們的平均值是%f。\n", (double)(a + b) / 2);	/* 類型轉換 */

	return 0;
}
```
## list0211.c
```c
/*
	讀取三個整數，並顯示出它們的合計值和平均值
*/

#include <stdio.h>

int main(void)
{
	int a, b, c;
	int sum;				/* 合計值 */
	double ave;				/* 平均值 */

	puts("請輸入三個整數。");
	printf("整數a：");   scanf("%d", &a);
	printf("整數b：");   scanf("%d", &b);
	printf("整數c：");   scanf("%d", &c);

	sum = a + b + c;
	ave = (double)sum / 3;		/* 類型轉換 */

	printf("它們的合計值是%5d。\n",   sum);		/* 輸出99999 */
	printf("它們的平均值是%5.1f。\n", ave);		/* 輸出999.9 */

	return 0;
}
```
## list012.c
```c
/*
	格式化整數和浮點數並顯示
*/

#include <stdio.h>

int main(void)
{
	printf("[%d]\n",      123);
	printf("[%.4d]\n",    123);
	printf("[%4d]\n",     123);
	printf("[%04d]\n",    123);
	printf("[%-4d]\n\n",  123);

	printf("[%d]\n",      12345);
	printf("[%.3d]\n",    12345);
	printf("[%3d]\n",     12345);
	printf("[%03d]\n",    12345);
	printf("[%-3d]\n\n",  12345);

	printf("[%f]\n",      123.13);
	printf("[%.1f]\n",    123.13);
	printf("[%6.1f]\n\n", 123.13);

	printf("[%f]\n",      123.13);
	printf("[%.1f]\n",    123.13);
	printf("[%4.1f]\n\n", 123.13);

	return 0;
}
```
## summary.c
```c
/*
	第2章總結
*/

#include <stdio.h>

int main(void)
{
	int a;
	int b;
	double r;	/* 半徑 */

	printf("整數a和b的值");
	scanf("%d%d", &a, &b);

	printf("a + b = %d\n", a + b);	/* 加法運算：雙目+運算子 */
	printf("a - b = %d\n", a - b);	/* 減法運算：雙目-運算子 */
	printf("a * b = %d\n", a * b);	/* 乘法運算：雙目*運算子 */
	printf("a / b = %d\n", a / b);	/* 商：/ 運算子 */
	printf("a %% b = %d\n", a % b);	/* 餘數：% 運算子 */

	printf("(a+b)/2 = %d\n",   (a + b) / 2);
	printf("平均值 = %f\n\n", (double)(a + b) / 2);

	printf("半徑");
	scanf("%lf", &r);

	printf("半徑為%.3f的圓的面積是%.3f。\n", r, 3.14 * r * r);

	return 0;
}
```


#  ch3
## list0301.c
```c
/*
	輸入的整數能被5整除嗎
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	if (no % 5)
		puts("輸入的整數不能被5整除。");

	return 0;
}
```
## list0302.c
```c
/*
	輸入的整數是奇數嗎
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	if (no % 2)
		puts("輸入的整數是奇數。");

	return 0;
}
```
## list0303.c
```c
/*
	輸入的整數能被5整除嗎
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	if (no % 5)
		puts("該整數不能被5整除。");
	else
		puts("該整數能被5整除。");

	return 0;
}
```
## list0304.c
```c
/*
	輸入的整數值是奇數還是偶數
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	if (no % 2)
		puts("該整數是奇數。");
	else
		puts("該整數是偶數。");

	return 0;
}
```
## list0305.c
```c
/*
	輸入的整數值是否為0
*/

#include <stdio.h>

int main(void)
{
	int num;

	printf("請輸入一個整數：");
	scanf("%d", &num);

	if (num)
		puts("該整數不是0。");
	else
		puts("該整數是0。");

	return 0;
}
```
## list0306.c
```c
/*
	輸入的兩個整數相等嗎
*/

#include <stdio.h>

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	if (n1 == n2)
		puts("它們相等。");
	else
		puts("它們不相等。");

	return 0;
}
```
## list0307.c
```c
/*
	輸入的兩個整數相等嗎（其2）
*/

#include <stdio.h>

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	if (n1 != n2)
		puts("它們不相等。");
	else
		puts("它們相等。");

	return 0;
}
```
## list0308.c
```c
/*
	個位數是5嗎
*/

#include <stdio.h>

int main(void)
{
	int num;

	printf("請輸入一個整數：");
	scanf("%d", &num);

	if ((num % 10) == 5)
		puts("該整數的個位數是5。");
	else
		puts("該整數的個位數不是5。");

	return 0;
}
```
## list0309.c
```c
/*
	判斷輸入的整數的符號
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	if (no == 0)
		puts("該整數為0。");
	else if (no > 0)
		puts("該整數為正數。");
	else
		puts("該整數為負數。");

	return 0;
}
```
## list0310.c
```c
/*
	如果輸入的整數值為正，則判斷該值的奇偶性並顯示
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	if (no > 0)
		if (no % 2 == 0)
			puts("該整數為偶數。");
		else
			puts("該整數為奇數。");
	else
		puts("您輸入的不是正數。\a\n");

	return 0;
}
```
## list0311.c
```c
/*
	顯示所輸入的兩個整數中較大的數
*/

#include <stdio.h>

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	if (n1 > n2)
		printf("較大的數是%d。\n", n1);
	else
		printf("較大的數是%d。\n", n2);

	return 0;
}
```
## list0312.c
```c
/*
	顯示所輸入的兩個整數中較大的數（其2）
*/

#include <stdio.h>

int main(void)
{
	int n1, n2, max;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	if (n1 > n2) max = n1; else max = n2;

	printf("較大的數是%d。\n", max);

	return 0;
}
```
## list0313.c
```c
/*
	計算所輸入的三個整數中的最大值並顯示
*/

#include <stdio.h>

int main(void)
{
	int n1, n2, n3, max;

	puts("請輸入三個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);
	printf("整數3：");   scanf("%d", &n3);

	max = n1;
	if (n2 > max) max = n2;
	if (n3 > max) max = n3;

	printf("最大值是%d。\n", max);

	return 0;
}
```
## list0314.c
```c
/*
	顯示所輸入的兩個整數中較大的數（其3 ：條件運算子）
*/

#include <stdio.h>

int main(void)
{
	int n1, n2, max;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	max = (n1 > n2) ? n1 : n2;		/* 將較大的值賦給max */

	printf("較大的數是%d。\n", max);

	return 0;
}
```
## list0315.c
```c
/*
	計算輸入的兩個整數的差並顯示（條件運算子）
*/

#include <stdio.h>

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	printf("它們的差是%d。\n", (n1 > n2) ? n1 - n2 : n2 - n1);

	return 0;
}
```
## list0316.c
```c
/*
	計算所輸入的兩個整數中的較大數和較小數並顯示
*/

#include <stdio.h>

int main(void)
{
	int n1, n2, max, min;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	if (n1 > n2) {
		max = n1;
		min = n2;
	} else {
		max = n2;
		min = n1;
	}

	printf("較大的數是%d。\n", max);
	printf("較小的數是%d。\n", min);

	return 0;
}
```
## list0317.c
```c
/*
	顯示所輸入的月份所處的季節
*/

#include <stdio.h>

int main(void)
{
	int month;					/* 月 */

	printf("請輸入月份");
	scanf("%d", &month);

	if (month >= 3 && month <= 5)
		printf("%d月是春季。\n", month);
	else if (month >= 6 && month <= 8)
		printf("%d月是夏季。\n", month);
	else if (month >= 9 && month <= 11)
		printf("%d月是秋季。\n", month);
	else if (month == 1 || month == 2 || month == 12)
		printf("%d月是冬季。\n", month);
	else
		printf("%d月不存在!!\a\n", month);

	return 0;
}
```
## list0318.c
```c
/*
	顯示所輸入的整數除以3的餘數
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	if (no % 3 == 0)
		puts("該數能被3整除。");
	else if (no % 3 == 1)
		puts("該數除以3的餘數是1。");
	else
		puts("該數除以3的餘數是2。");

	return 0;
}
```
## list0319.c
```c
/*
	顯示所輸入的整數除以3的餘數（switch 語句）
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個整數：");
	scanf("%d", &no);

	switch (no % 3) {
	 case 0 : puts("該數能被3整除。");		break;
	 case 1 : puts("該數除以3的餘數是1。");	break;
	 case 2 : puts("該數除以3的餘數是2。");	break;
	}

	return 0;
}
```
## list0320.c
```c
/*
	確認switch 語句動作的程式
*/

#include <stdio.h>

int main(void)
{
	int sw;

	printf("整數：");
	scanf("%d", &sw);

	switch (sw) {
	 case 1  : puts("A");  puts("B");  break;
	 case 2  : puts("C");
	 case 5  : puts("D");  break;
	 case 6  :
	 case 7  : puts("E");  break;
	 default : puts("F");  break;
	}

	return 0;
}
```
## summary1.c
```c
/*
	第3章的總結（其1）顯示所輸入的月份所處的季節
*/

#include <stdio.h>

int main(void)
{
	int month;					/* 月 */

	printf("請輸入月份：");
	scanf("%d", &month);

	if (month < 1 || month > 12)
		printf("%d月不存在!!\a\n", month);
	else if (month <= 2 || month == 12)
		printf("%d月是冬季。\n", month);
	else if (month >= 9)
		printf("%d月是秋季。\n", month);
	else if (month >= 6)
		printf("%d月是夏季。\n", month);
	else
		printf("%d月是春季。\n", month);

	return 0;
}
```
## summary2.c
```c
/*
	第3章的總結（其2）顯示數值對應的顏色
*/

#include <stdio.h>

int main(void)
{
	int sw;

	printf("請輸入一個整數：");
	scanf("%d", &sw);

	if (sw >= 1 && sw <= 3) {
		switch (sw) {
		 case 1: printf("紅色");  break;
		 case 2: printf("藍色");  break;
		 case 3: printf("白色");  break;
		}
		printf("\n");
	}

	return 0;
}
```
## summary3.c
```c
/*
	顯示所輸入的兩個整數中較大的數和較小的數
*/

#include <stdio.h>

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	if (n1 > n2) {
		printf("較大的數是n1。\n");
		printf("它們的差是%d。\n", n1 - n2);
	} else {
		printf("較大的數是n2。\n");
		printf("它們的差是%d。\n", n2 - n1);
	}

	return 0;
}
```


#  ch4
## list0401.c
```c
/*
	輸入的整數是奇數還是偶數呢（按照自己的意願進行迴圈操作）
*/

#include <stdio.h>

int main(void)
{
	int retry;		/* 要繼續嗎 */

	do {
		int no;

		printf("請輸入一個整數：");
		scanf("%d", &no);

		if (no % 2)
			puts("這個整數是奇數。");
		else
			puts("這個整數是偶數。");

		printf("要重複一次嗎？【Yes…0 / No…9】:");
		scanf("%d", &retry);
	} while (retry == 0);

	return 0;
}
```
## list0402.c
```c
/*
	根據讀取的整數值顯示所出的拳（只接收0、1、2）
*/

#include <stdio.h>

int main(void)
{
	int hand;	/* 出拳 */

	do {
		printf("請選擇出什麼拳【0···石頭/1···剪刀/2···布】:");
		scanf("%d", &hand);
	} while (hand < 0 || hand > 2);

	printf("你選擇了");
	switch (hand) {
	 case 0: printf("石頭。\n");	break;
	 case 1: printf("剪刀。\n");	break;
	 case 2: printf("布。\n");	    break;
	}

	return 0;
}
```
## list0402a.c
```c
/*
	根據讀取的整數值顯示所出的拳（只接收0、1、2）[另一種解法]
*/

#include <stdio.h>

int main(void)
{
	int hand;	/* 出拳 */

	do {
		printf("請選擇出什麼拳【0···石頭/1···剪刀/2···布】：");
		scanf("%d", &hand);
	} while (!(hand >= 0 && hand <= 2));

	printf("你選擇了");
	switch (hand) {
	 case 0: printf("石頭。\n");	break;
	 case 1: printf("剪刀。\n");	break;
	 case 2: printf("布。\n");	    break;
	}

	return 0;
}
```
## list0403.c
```c
/*
	不停地輸入整數，顯示其和及平均值
*/

#include <stdio.h>

int main(void)
{
	int sum = 0;	/* 和 */
	int cnt = 0;	/* 整數個數 */
	int retry;		/* 是否繼續處理 */

	do {
		int t;

		printf("請輸入一個整數：");
		scanf("%d", &t);

		sum = sum + t;	 /* 將sum加t的結果賦值給sum（sum加t）*/
		cnt = cnt + 1;	 /* 將cnt加1的結果賦值給cnt（cnt加1）*/

		printf("是否繼續？ <Yes… 0/No… 9>:");
		scanf("%d", &retry);
	} while (retry == 0);

	printf("和為%d，平均值為%.2f。\n", sum, (double)sum / cnt);

	return 0;
}
```
## list0404.c
```c
/*
	不停地輸入整數，顯示其和及平均值（其2）
    ※ 使用複合設定運算子和後置遞增運算子
*/

#include <stdio.h>

int main(void)
{
	int sum = 0;	/* 和 */
	int cnt = 0;	/* 整數個數 */
	int retry;		/* 是否繼續處理 */

	do {
		int t;

		printf("請輸入一個整數：");
		scanf("%d", &t);

		sum += t;	 /* sum加t */
		cnt++;		 /* cnt的值遞增 */

        printf("是否繼續？ <Yes… 0/No… 9>:");
		scanf("%d", &retry);
	} while (retry == 0);

	printf("和為%d，平均值為%.2f。\n", sum, (double)sum / cnt);

	return 0;
}
```
## list0405.c
```c
/*
	從輸入的整數開始倒數到0
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個正整數：");
	scanf("%d", &no);

	while (no >= 0) {
		printf("%d ", no);
		no--;			/* no的值遞減 */
	}
	printf("\n");		/* 換行 */

	return 0;
}
```
## list0406.c
```c
/*
	從輸入的整數開始倒數到0（其2）
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("請輸入一個正整數：");
	scanf("%d", &no);

	while (no >= 0)
		printf("%d ", no--);	/* no的值在顯示之後遞減 */
	printf("\n");				/* 換行 */

	return 0;
}
```
## list0407.c
```c
/*
	遞增顯示從0到輸入的正整數為止的各個整數
*/

#include <stdio.h>

int main(void)
{
	int i, no;

	printf("請輸入一個正整數：");
	scanf("%d", &no);

	i = 0;
	while (i <= no)
		printf("%d ", i++);		/* i的值在顯示之後遞增 */
	printf("\n");				/* 換行 */

	return 0;
}
```
## list0408.c
```c
/*
	輸入一個整數，連續顯示出該整數個*
*/

#include <stdio.h>

int main(void)
{
	int no;

	printf("正整數");
	scanf("%d", &no);

	while (no-- > 0)
		putchar('*');
	putchar('\n');

	return 0;
}
```
## list0409.c
```c
/*
	輸入規定個數個整數並顯示出它們的合計值和平均值
*/

#include <stdio.h>

int main(void)
{
	int i = 0;
	int sum = 0;			/* 合計值 */
	int num, tmp;

	printf("要輸入多少個整數：");
	scanf("%d", &num);

	while (i < num) {
		printf("No.%d丗", ++i);		/* i的值遞增後顯示 */
		scanf("%d", &tmp);
		sum += tmp;
	}

	printf("合計值：%d\n", sum);
	printf("平均值：%.2f\n", (double)sum / num);

	return 0;
}
```
## list0410.c
```c
/*
	逆向顯示正整數
*/

#include <stdio.h>

int main(void)
{
	int no;

	do {
		printf("請輸入一個正整數：");
		scanf("%d", &no);
		if (no <= 0)
			puts("\a請不要輸入非正整數。");
	} while (no <= 0);

	/* no比0大時 */
	printf("該整數逆向顯示的結果是");
	while (no > 0) {
		printf("%d", no % 10);		/* 顯示最後一位元數 */ 
		no /= 10;					/* 右移一位 */
	}
	puts("。");

	return 0;
}
```
## list0411.c
```c
/*
	遞增顯示從0到輸入的正整數為止的各個整數（使用for語句）
*/

#include <stdio.h>

int main(void)
{
	int i, no;

	printf("請輸入一個正整數：");
	scanf("%d", &no);

	for (i = 0; i <= no; i++)
		printf("%d ", i);
	putchar('\n');		/* 換行 */

	return 0;
}
```
## list0412.c
```c
/*
	輸入一個整數，連續顯示出該整數個*(使用for 語句)
*/

#include <stdio.h>

int main(void)
{
	int i, no;

	printf("正整數");
	scanf("%d", &no);

	for (i = 1; i <= no; i++)
		putchar('*');
	putchar('\n');

	return 0;
}
```
## list0413.c
```c
/*
	輸入規定個數個整數並顯示出它們的合計值和平均值（使用for 語句）
*/

#include <stdio.h>

int main(void)
{
	int i = 0;
	int sum = 0;			/* 合計值 */
	int num, tmp;

	printf("輸入多少個整數：");
	scanf("%d", &num);

	for (i = 0; i < num; i++) {
		printf("No.%d:", i + 1);
		scanf("%d", &tmp);
		sum += tmp;
	}

	printf("合計值：%d\n", sum);
	printf("平均值：%.2f\n", (double)sum / num);

	return 0;
}
```
## list0414.c
```c
/*
	顯示輸入的整數值以下的偶數
*/

#include <stdio.h>

int main(void)
{
	int i, n;

	printf("整數值：");
	scanf("%d", &n);

	for (i = 2; i <= n; i += 2)
		printf("%d ", i);
	putchar('\n');

	return 0;
}
```
## list0415.c
```c
/*
	顯示輸入的整數值的所有約數
*/

#include <stdio.h>

int main(void)
{
	int i, n;

	printf("整數值：");
	scanf("%d", &n);

	for (i = 1; i <= n; i++)
		if (n % i == 0)
			printf("%d ", i);
	putchar('\n');

	return 0;
}
```
## list0416.c
```c
/*
	珆尨嬝嬝傚楊桶
*/

#include <stdio.h>

int main(void)
{
	int i, j;

	for (i = 1; i <= 9; i++) {
		for (j = 1; j <= 9; j++)
			printf("%3d", i * j);
		putchar('\n');				/* 遙俴 */
	}

	return 0;
}
```
## list0416a.c
```c
/*
	顯示九九乘法表（遇到比40大的數時執行break語句）
*/

#include <stdio.h>

int main(void)
{
	int i, j;

	for (i = 1; i <= 9; i++) {
		for (j = 1; j <= 9; j++) {
			int seki = i * j;
			if (seki > 40)
				break;
			printf("%3d", seki);
		}
		putchar('\n');				/* 換行 */
	}

	return 0;
}
```
## list0416b.c
```c
/*
	顯示九九乘法表（遇到含有4的數時執行continue語句）
*/

#include <stdio.h>

int main(void)
{
	int i, j;

	for (i = 1; i <= 9; i++) {
		for (j = 1; j <= 9; j++) {
			int seki = i * j;
			if (seki % 10 == 4 || seki / 10 == 4) {
				printf("   ");
				continue;
			}
			printf("%3d", seki);
		}
		putchar('\n');		/* 換行 */
	}

	return 0;
}
```
## list0417.c
```c
/*
	畫一個長方形
*/

#include <stdio.h>

int main(void)
{
	int i, j;
	int height, width;

	puts("讓我們來畫一個長方形。");
	printf("高：");   scanf("%d", &height);
	printf("寬：");   scanf("%d", &width);

	for (i = 1; i <= height; i++) {			/* 長方形有height行 */
		for (j = 1; j <= width; j++)		/* 顯示width 個'*'* */
			putchar('*');
		putchar('\n');						/* 換行 */
	}
	return 0;
}
```
## list0418.c
```c
/*
	顯示直角在左下方的等腰直角三角形
*/

#include <stdio.h>

int main(void)
{
	int i, j, len;

	puts("生成直角在左下方的等腰直角三角形。");
	printf("短邊：");
	scanf("%d", &len);

	for (i = 1; i <= len; i++) {		/* i 行(i = 1, 2, --- , len) */
		for (j = 1; j <= i; j++)		/* 每行顯示i 個'*' */
			putchar('*');
		putchar('\n');					/* 換行 */
	}

	return 0;
}
```
## list0419.c
```c
/*
	顯示直角在右下方的等腰直角三角形
*/

#include <stdio.h>

int main(void)
{
	int i, j, len;

	puts("生成直角在右下方的等腰直角三角形。");
	printf("短邊：");
	scanf("%d", &len);

	for (i = 1; i <= len; i++) {		/* i 行(i = 1, 2, --- , len) */
		for (j = 1; j <= len - i; j++)	/* 每行顯示len-i 個' ' */
			putchar(' ');
		for (j = 1; j <= i; j++)		/* 每行顯示i 個'*' */
			putchar('*');
		putchar('\n');					/* 換行 */
	}

	return 0;
}
```
## list0420.c
```c
/*
	輸入一個整數，顯示該整數個*（迴圈次數可任意指定）
*/

#include <stdio.h>

int main(void)
{
	int retry;

	do {
		int i, no;

		do {
			printf("請輸入一個正整數：");
			scanf("%d", &no);
			if (no <= 0)
				puts("\a請不要輸入非正整數。");
		} while (no <= 0);
							/* no 的值大於等於0 */
		for (i = 1; i <= no; i++)
			putchar('*');
		putchar('\n');

		printf("是否繼續執行？【Yes…0/No… 9】 :");
		scanf("%d", &retry);
	} while (retry == 0);

	return 0;
}
```
## list0421.c
```c
/* 珆尨嬝嬝傚楊桶
                         */

#include <stdio.h>

int main(
                               void) {int i, j
;


for(i=                     1;i<=9;i
++) { for(j=1;j
<=9;j
++) printf("%3d", 
	i *
j); putchar('\n');		/* 遙俴 */                     }
return 0
; }
```
## summary.c
```c
/*
	第4章的總結
*/

#include <stdio.h>

int main(void)
{
	int i, j;
	int x, y, z;

	do {
		printf("0~100 的整數值：");
		scanf("%d", &x);
	} while (x < 0 || x > 100);

	y = x;
	z = x;
	while (y >= 0)
		printf("%d %d\n", y--, ++z);

	printf("寬和高為整數面積為%d"
		   "的長方形的邊長是：\n", x);
	for (i = 1; i < x; i++) {
		if (i * i > x) break;      /* break語句    */
		if (x % i != 0) continue;  /* continue語句 */
		printf("%d × %d\n", i, x / i);
	}

	puts("5行7列的星號");
	for (i = 1; i <= 5; i++) {
		for (j = 1; j <= 7; j++)
			putchar('*');
		putchar('\n');
	}

	return 0;
}
```
## summarya.c
```c
/*
	第4章的總結（另一種寫法）
*/ 

#include <stdio.h>

int main(void)
{
	int i, j;
	int x, y, z;

	do {
		printf("0~100 的整數值：");
		scanf("%d", &x);
	} while (!(x >= 0 && x <= 100));

	y = x;
	z = x;
	while (y >= 0)
		printf("%d %d\n", y--, ++z);

	printf("寬和高為整數面積為%d"
		   "的長方形的邊長是：\n", x);
	for (i = 1; i < x; i++) {
		if (i * i > x) break;      /* break語句    */
		if (x % i != 0) continue;  /* continue語句 */
		printf("%d × %d\n", i, x / i);
	}

	puts("5行7列的星號");
	for (i = 1; i <= 5; i++) {
		for (j = 1; j <= 7; j++)
			putchar('*');
		putchar('\n');
	}

	return 0;
}
```


#  ch5
## list0501.c
```c
/*
	輸入5 名學生的分數並顯示出他們的總分和平均分
*/

#include <stdio.h>

int main(void)
{
	int uchida;			/* 內田同學的分數 */
	int satoh;			/* 佐藤同學的分數 */
	int sanaka;			/* 佐中同學的分數 */
	int hiraki;			/* 平木同學的分數 */
	int masaki;			/* 真崎同學的分數 */
	int sum = 0;		/* 總分 */

	printf("請輸入5 名學生的分數。\n");
	printf("1號：");	scanf("%d", &uchida);	sum += uchida;
	printf("2號：");	scanf("%d", &satoh);	sum += satoh;
	printf("3號：");	scanf("%d", &sanaka);	sum += sanaka;
	printf("4號：");	scanf("%d", &hiraki);	sum += hiraki;
	printf("5號：");	scanf("%d", &masaki);	sum += masaki;

	printf("總分：%5d\n", sum);
	printf("平均分：%5.1f\n", (double)sum / 5);

	return 0;
}
```
## list0502.c
```c
/*
	依次把1、2、3、4、5 賦值給陣列的每個元素並顯示
*/

#include <stdio.h>

int main(void)
{
	int v[5];	/* int[5]陣列 */

	v[0] = 1;
	v[1] = 2;
	v[2] = 3;
	v[3] = 4;
	v[4] = 5;

	printf("v[0] = %d\n", v[0]);
	printf("v[1] = %d\n", v[1]);
	printf("v[2] = %d\n", v[2]);
	printf("v[3] = %d\n", v[3]);
	printf("v[4] = %d\n", v[4]);

	return 0;
}
```
## list0503.c
```c
/*
	依次把1、2、3、4、5 賦值給陣列的每個元素並顯示（使用for語句）
*/

#include <stdio.h>

int main(void)
{
	int i;
	int v[5];	/* int[5]陣列 */

	for (i = 0; i < 5; i++)		/* 為陣列元素賦值 */
		v[i] = i + 1;

	for (i = 0; i < 5; i++)		/* 顯示元素的值 */
		printf("v[%d] = %d\n", i, v[i]);

	return 0;
}
```
## list0504.c
```c
/*
	將陣列的全部元素賦值為0.0並顯示
*/

#include <stdio.h>

int main(void)
{
	int i;
	double x[7];	/* double[7]陣列 */

	for (i = 0; i < 7; i++)		/* 為陣列元素賦值 */
		x[i] = 0.0;

	for (i = 0; i < 7; i++)		/* 顯示元素的值 */
		printf("x[%d] = %.1f\n", i, x[i]);

	return 0;
}
```
## list0505.c
```c
/*
	從頭開始依次用1、2、3、4、5 對陣列各元素進行初始化並顯示
*/

#include <stdio.h>

int main(void)
{
	int i;
	int v[5] = {1, 2, 3, 4, 5};		/* 初始化 */

	for (i = 0; i < 5; i++)			/* 顯示元素的值 */
		printf("v[%d] = %d\n", i, v[i]);

	return 0;
}
```
## list0506.c
```c
/*
	把陣列中的全部元素複製到另一個陣列中
*/

#include <stdio.h>

int main(void)
{
	int i;
	int a[5] = {17, 23, 36};	/* 使用{17，23，36，0，0} 進行初始化 */
	int b[5];	

	for (i = 0; i < 5; i++)
		b[i] = a[i];

	puts("  a    b");
	puts("---------");
	for (i = 0; i < 5; i++)
		printf("%4d%4d\n", a[i], b[i]);

	return 0;
}
```
## list0507.c
```c
/*
	輸入陣列元素的值並顯示
*/

#include <stdio.h>

int main(void)
{
	int i;
	int x[5];

	for (i = 0; i < 5; i++) {	/* 輸入元素的值 */
		printf("x[%d] : ", i);
		scanf("%d", &x[i]);
	}

	for (i = 0; i < 5; i++)		/* 顯示元素的值 */
		printf("x[%d] = %d\n", i, x[i]);

	return 0;
}
```
## list0508.c
```c
/*
	對陣列的全部元素進行倒序排列
*/

#include <stdio.h>

int main(void)
{
	int i;
	int x[7];					/* int[7] 陣列 */

	for (i = 0; i < 7; i++) {	/* 輸入元素的值 */
		printf("x[%d] : ", i);
		scanf("%d", &x[i]);
	}

	for (i = 0; i < 3; i++) {	/* 對陣列元素進行倒序排列 */
		int temp = x[i];
		x[i]     = x[6 - i];
		x[6 - i] = temp;
	}

	puts("倒序排列了。");
	for (i = 0; i < 7; i++)		/* 顯示元素的值 */
		printf("x[%d] = %d\n", i, x[i]);

	return 0;
}
```
## list0509.c
```c
/*
	輸入5名學生的分數並顯示出他們的總分和平均分
*/

#include <stdio.h>

int main(void)
{
	int i;
	int tensu[5];		/* 5名學生的分數 */
	int sum = 0;		/* 總分 */

	printf("請輸入5名學生的分數。\n");
	for (i = 0; i < 5; i++) {
		printf("%2d號：", i + 1);
		scanf("%d", &tensu[i]);
		sum += tensu[i];
	}

	printf("總分：%5d\n", sum);
	printf("平均分：%5.1f\n", (double)sum / 5);

	return 0;
}
```
## list0510.c
```c
/*
	輸入5名學生的分數並顯示出他們的總分和平均分（用巨集定義人數）
*/

#include <stdio.h>

#define NUMBER	5		/* 學生人數 */

int main(void)
{
	int i;
	int tensu[NUMBER];	/* NUMBER個學生的分數 */
	int sum = 0;		/* 總分 */

	printf("請輸入%d名學生的分數。\n", NUMBER);
	for (i = 0; i < NUMBER; i++) {
		printf("%2d號：", i + 1);
		scanf("%d", &tensu[i]);
		sum += tensu[i];
	}

	printf("總分：%5d\n", sum);
	printf("平均分：%5.1f\n", (double)sum / NUMBER);

	return 0;
}
```
## list0511.c
```c
/*
	輸入學生的分數並顯示出其中的最高分和最低分
*/

#include <stdio.h>

#define NUMBER	5		/* 學生人數 */

int main(void)
{
	int i;
	int tensu[NUMBER];	/* NUMBER名學生的分數 */
	int max, min;		/* 最高分和最低分 */

	printf("請輸入%d名學生的分數。\n", NUMBER);
	for (i = 0; i < NUMBER; i++) {
		printf("%2d號：", i + 1);
		scanf("%d", &tensu[i]);
	}

	min = max = tensu[0];
	for (i = 1; i < NUMBER; i++) {
		if (tensu[i] > max) max = tensu[i];
		if (tensu[i] < min) min = tensu[i];
	}

	printf("最高分：%d\n", max);
	printf("最低分：%d\n", min);

	return 0;
}
```
## list0512.c
```c
/*
	輸入學生的分數並顯示出分佈情況
*/

#include <stdio.h>

#define NUMBER	80		/* 人數上限 */

int main(void)
{
	int i, j;
	int num;				/* 實際的人數 */
	int tensu[NUMBER];		/* 學生的分數 */
	int bunpu[11] = {0};	/* 分佈圖 */

	printf("請輸入學生人數：");

	do {
		scanf("%d", &num);
		if (num < 1 || num > NUMBER)
			printf("\a 請輸入1~%d 的數：", NUMBER);
	} while (num < 1 || num > NUMBER);

	printf("請輸入%d 人的分數。\n", num);

	for (i = 0; i < num; i++) {
		printf("%2d號：", i + 1);
		do {
			scanf("%d", &tensu[i]);
			if (tensu[i] < 0 || tensu[i] > 100)
				printf("\a請輸入1~100 的數：");
		} while (tensu[i] < 0 || tensu[i] > 100);
		bunpu[tensu[i] / 10]++;
	}

	puts("\n---分佈圖---");
	printf("      100：");

	for (j = 0; j < bunpu[10]; j++)			/* 100分 */
		putchar('*');
	putchar('\n');

	for (i = 9; i >= 0; i--) {				/* 不到100分 */
		printf("%3d - %3d：", i * 10, i * 10 + 9);
		for (j = 0; j < bunpu[i]; j++)
			putchar('*');
		putchar('\n');
	}

	return 0;
}
```
## list0513.c
```c
/*
	求4名學生在兩次考試中3門課程的總分並顯示
*/

#include <stdio.h>

int main(void)
{
	int i, j;
	int tensu1[4][3] = { {91, 63, 78}, {67, 72, 46}, {89, 34, 53}, {32, 54, 34} };
	int tensu2[4][3] = { {97, 67, 82}, {73, 43, 46}, {97, 56, 21}, {85, 46, 35} };
	int sum[4][3];			/* 總分 */

	/* 求兩次考試的分數之和 */
	for (i = 0; i < 4; i++) {							/* 4名學生的 */
		for (j = 0; j < 3; j++)							/* 3門課程的 */
			sum[i][j] = tensu1[i][j] + tensu2[i][j];	/* 兩次的分數相加 */
	}

	/* 顯示第一次考試的分數 */
	puts("第一次考試的分數");
	for (i = 0; i < 4; i++) {
		for (j = 0; j < 3; j++)
			printf("%4d", tensu1[i][j]);
		putchar('\n');
	}

	/* 顯示第二次考試的分數 */
	puts("第二次考試的分數");
	for (i = 0; i < 4; i++) {
		for (j = 0; j < 3; j++)
			printf("%4d", tensu2[i][j]);
		putchar('\n');
	}

	/* 顯示總分 */
	puts("總分");
	for (i = 0; i < 4; i++) {
		for (j = 0; j < 3; j++)
			printf("%4d", sum[i][j]);
		putchar('\n');
	}

	return 0;
}
```
## summary.c
```c
/*
	第5章總結
*/

#include <stdio.h>

#define SIZE	5		/* 陣列a和b的元素個數 */

int main()
{
	int i, j;
	int sum;

	/* 陣列a和b是int[5]型的一維陣列（元素類型為int型、元素個數為5）*/
	int a[SIZE];               /* 使用不定值對所有元素進行初始化 */
	int b[SIZE] = {1, 2, 3};   /* 使用{1, 2, 3, 0, 0}進行初始化 */

	/* 陣列c是int[2][3]型的二維陣列（元素類型為int[3]型、元素個數為2）*/
	int c[2][3] = {
		{11, 22, 33},
		{44, 55, 66},
	};

	/* 將陣列b的所有全部複製給陣列a */
	for (i = 0; i < SIZE; i++)
		a[i] = b[i];

	/* 顯示陣列a的所有元素 */
	for (i = 0; i < SIZE; i++)
		printf("a[%d] = %d\n", i, a[i]);

	/* 顯示陣列b的所有元素 */
	for (i = 0; i < SIZE; i++)
		printf("b[%d] = %d\n", i, b[i]);

	/* 將陣列a的所有元素的和賦給sum並顯示 */
	sum = 0;
	for (i = 0; i < SIZE; i++)
		sum += a[i];
	printf("陣列a的所有元素的和=%d\n", sum); 

	/* 顯示陣列c的全部構成元素的值 */
	for (i = 0; i < 2; i++) {
		for (j = 0; j < 3; j++) {
			printf("c[%d][%d] = %d\n", i, j, c[i][j]);
		}
	}

	return 0;
}
```


#  ch6
## list0601.c
```c
/*
	求兩個整數中較大的值
*/

#include <stdio.h>

/*--- 返回較大整數的值 ---*/
int max2(int a, int b)
{
	if (a > b)
		return a;
	else
		return b;
}

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1：");   scanf("%d", &n1);
	printf("整數2：");   scanf("%d", &n2);

	printf("較大整數的值是%d。\n", max2(n1, n2));

	return 0;
}
```
## list0602.c
```c
/*
	求三個整數中的最大值
*/

#include <stdio.h>

/*--- 返回三個整數中的最大值 ---*/
int max3(int a, int b, int c)
{
	int max = a;

	if (b > max) max = b;
	if (c > max) max = c;
	return max;
}

int main(void)
{
	int a, b, c;

	puts("請輸入三個整數。");
	printf("整數a：");	  scanf("%d", &a);
	printf("整數b：");	  scanf("%d", &b);
	printf("整數c：");	  scanf("%d", &c);

	printf("最大值是%d。\n", max3(a, b, c));

	return 0;
}
```
## list0603.c
```c
/*
	計算兩個整數的平方差
*/

#include <stdio.h>

/*--- 返回x的平方 ---*/
int sqr(int x)
{
	return x * x;
}

/*--- 返回x和y的差值 ---*/
int diff(int a, int b)
{
	return (a > b) ? a - b : b - a;		/* 大值減小值 */
}

int main(void)
{
	int x, y;

	puts("請輸入兩個整數。");
	printf("整數x：");   scanf("%d", &x);
	printf("整數y：");   scanf("%d", &y);

	printf("x和y的平方差是%d。\n", diff(sqr(x), sqr(y)));

	return 0;
}
```
## list0604.c
```c
/*
	求四個整數中的最大值
*/

#include <stdio.h>

/*--- 返回較大值 ---*/
int max2(int a, int b)
{
	return (a > b) ? a : b;
}

/*--- 返回四個整數中的最大值 ---*/
int max4(int a, int b, int c, int d)
{
	return max2(max2(a, b), max2(c, d));
}

int main(void)
{
	int n1, n2, n3, n4;

	puts("請輸入四個整數。");
	printf("整數n1：");   scanf("%d", &n1);
	printf("整數n2：");   scanf("%d", &n2);
	printf("整數n3：");   scanf("%d", &n3);
	printf("整數n4：");   scanf("%d", &n4);

	printf("最大值是%d。\n", max4(n1, n2, n3, n4));

	return 0;
}
```
## list0605.c
```c
/*
	計算冪
*/

#include <stdio.h>

/*--- 返回x的n次冪 ---*/
double power(double x, int n)
{
	int i;
	double tmp = 1.0;

	for (i = 1; i <= n; i++)
		tmp *= x;	/* tmp乘以x */
	return tmp;
}

int main(void)
{
	double a;
	int b;

	printf("求a的b次冪。\n");
	printf("實數a：");   scanf("%lf", &a);
	printf("整數b：");   scanf("%d",  &b);

	printf("%.2f的%d次冪是%.2f。\n", a, b, power(a, b));

	return 0;
}
```
## list0606.c
```c
/*
	計算冪
*/

#include <stdio.h>

/*--- 返回x的n次冪 ---*/
double power(double x, int n)
{
	double tmp = 1.0;

	while (n-- > 0)
		tmp *= x;	/* tmp乘以x */
	return tmp;
}

int main(void)
{
	double a;
	int b;

    printf("求a的b次冪。\n");
	printf("實數a：");   scanf("%lf", &a);
	printf("整數b：");   scanf("%d",  &b);

	printf("%.2f的%d次冪是%.2f。\n", a, b, power(a, b));

	return 0;
}
```
## list0607.c
```c
/*
	顯示出一個直角在左下方的等腰直角三角形（函數版）
*/

#include <stdio.h>

/*--- 連續顯示出n個'*' ---*/
void put_stars(int n)
{
	while (n-- > 0)
		putchar('*');
}

int main(void)
{
	int i, len;

	printf("生成一個直角在左下方的等腰直角三角形。\n");
	printf("短邊：");
	scanf("%d", &len);

	for (i = 1; i <= len; i++) {
		put_stars(i);
		putchar('\n');
	}

	return 0;
}
```
## list0608.c
```c
/*
	顯示直角在右下方的等腰直角三角形（函數版）
*/

#include <stdio.h>

/*--- 連續顯示n個字元ch ---*/
void put_chars(int ch, int n)
{
	while (n-- > 0)
		putchar(ch);
}

int main(void)
{
	int i, len;

	printf("生成一個直角在右下方的等腰直角三角形。\n");
	printf("短邊：");
	scanf("%d", &len);

	for (i = 1; i <= len; i++) {
		put_chars(' ', len - i);
		put_chars('*', i);
		putchar('\n');
	}

	return 0;
}
```
## list0609.c
```c
/*
	逆向顯示輸入的正整數
*/

#include <stdio.h>

/*--- 返回輸入的正整數 ---*/
int scan_pint(void)
{
	int tmp;

	do {
		printf("請輸入一個正整數：);
		scanf("%d", &tmp);
		if (tmp <= 0)
			puts("\a請不要輸入非正整數。");
	} while (tmp <= 0);
	return tmp;
}

/*--- 返回正整數倒轉後的值 ---*/
int rev_int(int num)
{
	int tmp = 0;

	if (num > 0) {
		do {
			tmp = tmp * 10 + num % 10;
			num /= 10;
		} while (num > 0);
	}
	return tmp;
}

int main(void)
{
	int nx = scan_pint();

	printf("該整數倒轉後的值是%d。\n", rev_int(nx));

	return 0;
}
```
## list0610.c
```c
/*
	計算最高分
*/

#include <stdio.h>

#define NUMBER	5	/* 學生人數 */

int tensu[NUMBER];	/* 陣列定義 */

int top(void);		/* 函數top的函數原型聲明 */

int main(void)
{
	extern int tensu[];		/* 陣列的聲明（可以省略） */
	int i;

	printf("請輸入%d名學生的分數。\n", NUMBER);
	for (i = 0; i < NUMBER; i++) {
		printf("%d：", i + 1);
		scanf("%d", &tensu[i]);
	}
	printf("最高分=%d\n", top());

	return 0;
}

/*--- 返回陣列tensu 的最大值（函數top的函式定義）---*/
int top(void)
{
	extern int tensu[];		/* 陣列的聲明（可以省略）*/
	int i;
	int max = tensu[0];

	for (i = 1; i < NUMBER; i++)
		if (tensu[i] > max)
			max = tensu[i];
	return max;
}
```
## list0611.c
```c
/*
	計算英語分數和數學分數中的最高分
*/

#include <stdio.h>

#define NUMBER	5		/* 學生人數 */

/*--- 返回元素個數為n的陣列v中的最大值 ---*/
int max_of(int v[], int n)
{
	int i;
	int max = v[0];

	for (i = 1; i < n; i++)
		if (v[i] > max)
			max = v[i];
	return max;
}

int main(void)
{
	int i;
	int eng[NUMBER];		/* 英語的分數 */
	int mat[NUMBER];		/* 數學的分數 */
	int max_e, max_m;		/* 最高分 */

	printf("請輸入%d名學生的分數。\n", NUMBER);
	for (i = 0; i < NUMBER; i++) {
		printf("[%d]英語：", i + 1);  scanf("%d", &eng[i]);
		printf( "   數學：");         scanf("%d", &mat[i]);
	}
	max_e = max_of(eng, NUMBER);	/* 英語的最高分 */
	max_m = max_of(mat, NUMBER);	/* 英語的最高分 */

	printf("英語的最高分＝%d\n", max_e);
	printf("英語的最高分＝%d\n", max_m);

	return 0;
}
```
## list0612.c
```c
/*
	將陣列的所有元素設置為0
*/

#include <stdio.h>

/*--- 把0賦給有n個元素的陣列v的所有元素 ---*/
void set_zero(int v[], int n)
{
	int i;

	for (i = 0; i < n; i++)
		v[i] = 0;
}

/*--- 顯示有n個元素的陣列v的所有元素並換行 ---*/
void print_array(const int v[], int n)
{
	int i;

	printf("{ ");
	for (i = 0; i < n; i++)
		printf("%d ", v[i]);
	printf("}");
}

int main(void)
{
	int ary1[] = {1, 2, 3, 4, 5};
	int ary2[] = {3, 2, 1};

	printf("ary1 = ");   print_array(ary1, 5);   putchar('\n');
	printf("ary2 = ");   print_array(ary2, 3);   putchar('\n');

	set_zero(ary1, 5);		/* 把0賦給陣列ary1的所有元素 */
	set_zero(ary2, 3);		/* 把0賦給陣列ary2的所有元素 */

	printf("把0賦給了兩個陣列的所有元素。\n");
	printf("ary1 = ");   print_array(ary1, 5);   putchar('\n');
	printf("ary2 = ");   print_array(ary2, 3);   putchar('\n');

	return 0;
}
```
## list0613.c
```c
/*
	線性查找（順序查找）
*/

#include <stdio.h>

#define NUMBER		5		/* 元素個數 */
#define FAILED		-1		/* 查找失敗 */

/*--- 查找元素數為n的陣列v中與key一致的元素 ---*/
int search(const int v[], int key, int n)
{
	int i = 0;

	while (1) {
		if (i == n)
			return FAILED;		/* 查找失敗 */
		if (v[i] == key)
			return i;			/* 查找成功 */
		i++;
	}
}

int main(void)
{
	int i, ky, idx;
	int vx[NUMBER];

	for (i = 0; i < NUMBER; i++) {
		printf("vx[%d]：", i);
		scanf("%d", &vx[i]);
	}
	printf("要查找的值：");
	scanf("%d", &ky);

	idx = search(vx, ky, NUMBER);	/* 從元素個數為NUMBER的陣列vx中查找ky */

	if (idx == FAILED)
		puts("\a查找失敗。");
	else
		printf("%d是陣列的第%d號元素。\n", ky, idx + 1);

	return 0;
}
```
## list0614.c
```c
/*
	順序查找（哨兵查找法）
*/

#include <stdio.h>

#define NUMBER		5		/* 元素個數*/
#define FAILED		-1		/* 查找失敗 */

/*--- 從元素個數為n的陣列v中查找和key一致的元素（哨兵查找法）---*/
int search(int v[], int key, int n)
{
	int i = 0;

	v[n] = key;		/* 添加哨兵 */

	while (1) {
		if (v[i] == key)
			break;			/* 查找成功 */
		i++;
	}
	return (i < n) ? i : FAILED;
}

int main(void)
{
	int i, ky, idx;
	int vx[NUMBER + 1];

	for (i = 0; i < NUMBER; i++) {
		printf("vx[%d]：", i);
		scanf("%d", &vx[i]);
	}
	printf("要查找的值：");
	scanf("%d", &ky);

	if ((idx = search(vx, ky, NUMBER)) == FAILED)
		puts("\a查找失敗。");
	else
		printf("%d是陣列的第%d號元素。\n", ky, idx + 1);

	return 0;
}
```
## list0615.c
```c
/*
	順序查找（哨兵查找法：for語句）
*/

#include <stdio.h>

#define NUMBER		5		/* 元素個數*/
#define FAILED		-1		/* 查找失敗 */

/*--- 從元素個數為n的陣列v中查找和key一致的元素（哨兵查找法）---*/
int search(int v[], int key, int n)
{
	int i;

	v[n] = key;		/* 添加哨兵 */

	for (i = 0; v[i] != key; i++)
		;
	return (i < n) ? i : FAILED;
}

int main(void)
{
	int i, ky, idx;
	int vx[NUMBER + 1];

	for (i = 0; i < NUMBER; i++) {
	    printf("vx[%d]：", i);
		scanf("%d", &vx[i]);
	}
	printf("要查找的值：");
	scanf("%d", &ky);

	if ((idx = search(vx, ky, NUMBER)) == FAILED)
		puts("\a查找失敗。");
	else
		printf("%d是陣列的第%d號元素。\n", ky, idx + 1);

	return 0;
}
```
## list0616.c
```c
/*
	求4名學生在兩次考試中3課程的總分並顯示（函數版）
*/

#include <stdio.h>

/*--- 將4行3列矩陣a和b的和存儲在c中 ---*/
void mat_add(const int a[4][3], const int b[4][3], int c[4][3])
{
	int i, j;

	for (i = 0; i < 4; i++)
		for (j = 0; j < 3; j++)
			c[i][j] = a[i][j] + b[i][j];
}

/*--- 顯示4行3列矩陣m ---*/
void mat_print(const int m[4][3])
{
	int i, j;

	for (i = 0; i < 4; i++) {
		for (j = 0; j < 3; j++)
			printf("%4d", m[i][j]);
		putchar('\n');
	}
}

int main(void)
{
	int tensu1[4][3] = { {91, 63, 78}, {67, 72, 46}, {89, 34, 53}, {32, 54, 34} };
	int tensu2[4][3] = { {97, 67, 82}, {73, 43, 46}, {97, 56, 21}, {85, 46, 35} };
	int sum[4][3];			/* 總分 */

	mat_add(tensu1, tensu2, sum);				/* 求兩次考試中成績的總和 */

	puts("第一次考試的分數");  mat_print(tensu1);	/* 顯示第一次考試的分數 */
	puts("第二次考試的分數");  mat_print(tensu2);	/* 顯示第二次考試的分數 */
	puts("總分");        mat_print(sum);		/* 顯示總分 */

	return 0;
}
```
## list0617.c
```c
/*
	確認識別字的作用域
*/

#include <stdio.h>

int x = 75;						/* A：檔作用域 */

void print_x(void)
{
	printf("x = %d\n", x);
}

int main(void)
{
	int i;
	int x = 999;				/* B：塊作用域 */

	print_x();

	printf("x = %d\n", x);

	for (i = 0; i < 5; i++) {
		int x = i * 100;		/* C：塊作用域 */
		printf("x = %d\n", x);
	}

	printf("x = %d\n", x);

	return 0;
}
```
## list0618.c
```c
/*
	自動存儲期和靜態存儲期
*/

#include <stdio.h>

int fx = 0;				/* 靜態存儲期+檔作用域 */

void func(void)
{
	static int sx = 0;	/* 靜態存儲期+塊作用域 */
	int        ax = 0;	/* 自動存儲期+塊作用域 */

	printf("%3d%3d%3d\n", ax++, sx++, fx++);
}

int main(void)
{
	int i;

	puts(" ax sx fx");
	puts("----------");
	for (i = 0; i < 10; i++)
		func();
	puts("----------");

	return 0;
}
```
## list0619.c
```c
/*
	確認擁有靜態存儲期的物件的預設的初始化
*/

#include <stdio.h>

int fx;						/* 用0初始化 */

int main(void)
{
	int i;
	static int    si;		/* 用0初始化 */
	static double sd;		/* 用0.0初始化 */
	static int    sa[5];	/* 所有元素都用0初始化 */

	printf("fx = %d\n", fx);
	printf("si = %d\n", si);
	printf("sd = %d\n", sd);

	for (i = 0; i < 5; i++)
		printf("sa[%d] = %d\n", i, sa[i]);

	return 0;
}
```
## listC0601.c
```c
/*
	為n行3列的二維陣列的所有構成元素賦上同樣的值
*/

#include <stdio.h>

/*---將v賦值給元素類型為int[3]、元素個數為n的陣列m的所有構成元素---*/
void fill(int m[][3], int n, int v)
{
	int i, j;

	for (i = 0; i < n; i++)
		for (j = 0; j < 3; j++)
			m[i][j] = v;
}

/*---顯示元素類型為int[3]、元素個數為n的陣列m的所有構成元素---*/
void mat_print(const int m[][3], int n)
{
	int i, j;

	for (i = 0; i < n; i++) {
		for (j = 0; j < 3; j++)
			printf("%4d", m[i][j]);
		putchar('\n');
	}
}

int main()
{
	int no;
	int x[2][3] = {0};		/* 2行3列：元素類型為int[3]、元素個數為2 */
	int y[4][3] = {0};		/* 4行3列：元素類型為int[3]、元素個數為4 */

	printf("賦給所有構成元素的值：");
	scanf("%d", &no);

	fill(x, 2, no);			/* 將no賦給x的所有構成元素 */
	fill(y, 4, no);			/* 將no賦給y的所有構成元素 */

	printf("--- x ---\n");   mat_print(x, 2);
	printf("--- y ---\n");   mat_print(y, 4);

	return 0;
}
```
## summary1.c
```c
/*
	求兩個整數值的平均值
*/

#include <stdio.h>

/* 以實數的形式返回a和b的平均值 */
double ave2(int a, int b)
{
	return (double)(a + b) / 2;
}

int main(void)
{
	int n1, n2;

	puts("請輸入兩個整數。");
	printf("整數1 :");   scanf("%d", &n1);
	printf("整數2 :");   scanf("%d", &n2);

	printf("平均值是%.1f。\n", ave2(n1, n2));

	return 0;
}
```
## summary2.c
```c
/*
	記住上一次的值
*/

#include <stdio.h>

/* 記下no返回上一次的值 */
int val(int no)
{
	static int v;
	int temp = v;

	v = no;
	return temp;
}

int main(void)
{
	int retry;

	do {
		int n;

		printf("要記下的值：");
		scanf("%d", &n);
		printf("記下了。上一次的值是%d。\n", val(n));

		printf("是否繼續？【Yes…0/NO…9】：");
		scanf("%d", &retry);
	} while (retry == 0);

	return 0;
}
```
## summary3.c
```c
/*
	以實數的形式返回陣列a的所有元素的平均值
*/

#include <stdio.h>

#define  NUMBER		5		/* 元素個數 */

/* 以實數的形式返回陣列a的所有元素的平均值 */
double ave_ary(const int a[], int n)
{
	int i;
	double sum = 0;

	for (i = 0; i < n; i++)
		sum += a[i];
	return sum / n;
}

int main(void)
{
	int i;
	int v[NUMBER];

	for (i = 0; i < NUMBER; i++) {
		printf("v[%d]：", i);
		scanf("%d", &v[i]);
	}

	printf("所有元素的平均值是%.1f。\n", ave_ary(v, NUMBER));

	return 0;
}
```
## summary4.c
```c
/*
	輸出響鈴
*/

#include <stdio.h>

/* 輸出響鈴 */
void put_alert(void)
{
	putchar('\a');
}

int main(void)
{
	int i;
	int no;

	printf("輸出響鈴的次數：");
	scanf("%d", &no);

	for (i = 0; i < no; i++)
		put_alert();

	return 0;
}
```
## summary5.c
```c
/*
	複製陣列a的元素
*/

#include <stdio.h>

#define  NUMBER		5		/* 元素個數 */

/* 將陣列b開頭的n個元素複製給陣列a */
void cpy_ary(int a[], const int b[], int n)
{
	int i;

	for (i = 0; i < n; i++)
		a[i] = b[i];
}

int main(void)
{
	int i;
	int v1[NUMBER];			/* 被複製的陣列 */
	int v2[NUMBER];			/* 複製目標陣列 */

	for (i = 0; i < NUMBER; i++) {
		printf("v1[%d]：", i);
		scanf("%d", &v1[i]);
	}

	cpy_ary(v2, v1, NUMBER);	/* 將v1的所有元素複製給v2 */

	puts("已將v1的所有元素複製給v2。\n");
	for (i = 0; i < NUMBER; i++) {
		printf("v2[%d]：%d\n", i, v2[i]);
	}

	return 0;
}
```
## summary6.c
```c
/*
	求二維陣列a的所有構成元素的總和
*/

#include <stdio.h>

/* 顯示二維陣列的所有構成元素的值 */
void put_ary2D(const int m[][3], int n)
{
	int i, j;

	for (i = 0; i < n; i++) {
		for (j = 0; j < 3; j++)
			printf("%4d", m[i][j]);
		putchar('\n');
	}
}

/* 返回二維陣列a的所有構成元素的總和 */
int sum_ary2D(const int a[][3], int n)
{
	int i, j;
	int sum = 0;

	for (i = 0; i < n; i++)
		for (j = 0; j < 3; j++)
			sum += a[i][j];
	return sum;
}

int main(void)
{
	int m1[4][3] = { {1, 2, 3}, {4, 5, 6}, {7, 8, 9}, {10, 11, 12} };
	int m2[2][3] = { {1, 3, 5}, {7, 9, 11} };

	puts("二維陣列m1");
	put_ary2D(m1, 4);
	printf("總和是%d。\n", sum_ary2D(m1, 4));

	puts("二維陣列m2");
	put_ary2D(m2, 2);
	printf("總和是%d。\n", sum_ary2D(m2, 2));

	return 0;
}
```


#  ch7
## list0701.c
```c
/*
	顯示字元型和整型資料類型的表示範圍
*/

#include <stdio.h>
#include <limits.h>

int main(void)
{
	puts("該環境下各字元型、整型數值的範圍");
	printf("char           : %d~%d\n",   CHAR_MIN , CHAR_MAX);
	printf("signed char    : %d~%d\n",   SCHAR_MIN, SCHAR_MAX);
	printf("unsignd char   : %d~%d\n",   0        , UCHAR_MAX);

	printf("short          : %d~%d\n",   SHRT_MIN , SHRT_MAX);
	printf("int            : %d~%d\n",   INT_MIN  , INT_MAX);
	printf("long           : %ld~%ld\n", LONG_MIN , LONG_MAX);

	printf("unsigned short : %u~%u\n",   0        , USHRT_MAX);
	printf("unsigned       : %u~%u\n",   0        , UINT_MAX);
	printf("unsigned long  : %lu~%lu\n", 0        , ULONG_MAX);

	return 0;
}
```
## list0702.c
```c
/*
	判斷char型有無符號
*/

#include <stdio.h>
#include <limits.h>

int main(void)
{
	printf("這個編譯器中的char型是");

	if (CHAR_MIN)
		puts("有符號的。");
	else
		puts("無符號的。");

	return 0;
}
```
## list0703.c
```c
/*
	顯示字元型和整型的長度
*/

#include <stdio.h>

int main(void)
{
	printf("sizeof(char)  = %u\n", (unsigned)sizeof(char));
	printf("sizeof(short) = %u\n", (unsigned)sizeof(short));
	printf("sizeof(int)   = %u\n", (unsigned)sizeof(int));
	printf("sizeof(long)  = %u\n", (unsigned)sizeof(long));

	return 0;
}
```
## list0704.c
```c
/*
	顯示資料類型和變數的長度
*/

#include <stdio.h>

int main(void)
{
	int    na, nb;
	double dx, dy;

	printf("sizeof(int)     = %u\n", (unsigned)sizeof(int));
	printf("sizeof(double)  = %u\n", (unsigned)sizeof(double));

	printf("sizeof(na)      = %u\n", (unsigned)sizeof(na));
	printf("sizeof(dx)      = %u\n", (unsigned)sizeof(dx));

	printf("sizeof(na + nb) = %u\n", (unsigned)sizeof(na + nb));
	printf("sizeof(na + dy) = %u\n", (unsigned)sizeof(na + dy));
	printf("sizeof(dx + dy) = %u\n", (unsigned)sizeof(dx + dy));

	return 0;
}
```
## list0705.c
```c
/*
	求陣列的元素個數
*/

#include <stdio.h>

int main(void)
{
	int    vi[10];
	double vd[25];

	printf("陣列vi的元素個數 = %u\n", (unsigned)(sizeof(vi) / sizeof(vi[0])));
	printf("陣列vd的元素個數 = %u\n", (unsigned)(sizeof(vd) / sizeof(vd[0])));

	return 0;
}
```
## list0706.c
```c
/*
	按位運算
*/

#include <stdio.h>

/*--- 返回整數x中設置的位元數 ---*/
int count_bits(unsigned x)
{
	int bits = 0;
	while (x) {
		if (x & 1U) bits++;
		x >>= 1;
	}
	return bits;
}

/*--- 返回unsigned型的位數 ---*/
int int_bits(void)
{
	return count_bits(~0U);
}

/*--- 返回unsigned型的位元的內容 ---*/
void print_bits(unsigned x)
{
	int i;
	for (i = int_bits() - 1; i >= 0; i--)
		putchar(((x >> i) & 1U) ? '1' : '0');
}

int main(void)
{
	unsigned a, b;

	printf("請輸入兩個非負整數。\n");
	printf("a : ");   scanf("%u", &a);
	printf("b : ");   scanf("%u", &b);

	printf("\na     = ");   print_bits(a);
	printf("\nb     = ");   print_bits(b);
	printf("\na & b = ");   print_bits(a & b);		/* a和b的邏輯與 */
	printf("\na | b = ");   print_bits(a | b);		/* a和b的邏輯或 */
	printf("\na ^ b = ");   print_bits(a ^ b);		/* a和b的邏輯異或 */
	printf("\n~a    = ");   print_bits(~a);			/* a的反碼 */
	printf("\n~b    = ");   print_bits(~b);			/* b的反碼 */
	putchar('\n');

	return 0;
}
```
## list0707.c
```c
/*
	顯示對unsigned型的值進行左移和右移後的值
*/

#include <stdio.h>

/*--- 返回整數x中設置的位元數 ---*/
int count_bits(unsigned x)
{
	int bits = 0;
	while (x) {
		if (x & 1U) bits++;
		x >>= 1;
	}
	return bits;
}

/*--- 返回unsigned型的位數 ---*/
int int_bits(void)
{
	return count_bits(~0U);
}

/*--- 返回unsigned型的位元的內容 ---*/
void print_bits(unsigned x)
{
	int i;
	for (i = int_bits() - 1; i >= 0; i--)
		putchar(((x >> i) & 1U) ? '1' : '0');
}

int main(void)
{
	unsigned x, n;

	printf("非負整數：");          scanf("%u", &x);
	printf("位移位數：");  scanf("%u", &n);

	printf("\n整數       = ");   print_bits(x);
	printf("\n左移後的值 = ");   print_bits(x << n);
	printf("\n右移後的值 = ");   print_bits(x >> n);
	putchar('\n');

	return 0;
}
```
## list0708.c
```c
/*
	以十進位、二進位、八進制、十六進位的形式顯示0~65535
*/

#include <stdio.h>

/*--- 返回整數x中設置的位元數 ---*/
int count_bits(unsigned x)
{
	int bits = 0;
	while (x) {
		if (x & 1U) bits++;
		x >>= 1;
	}
	return bits;
}

/*--- 返回unsigned型的位數 ---*/
int int_bits(void)
{
	return count_bits(~0U);
}

/*--- 顯示unsigned型整數x的後n位元 ---*/
void print_nbits(unsigned x, unsigned n)
{
	int i = int_bits();
	i = (n < i) ? n - 1 : i - 1;
	for ( ; i >= 0; i--)
		putchar(((x >> i) & 1U) ? '1' : '0');
}

int main(void)
{
	unsigned i;

	for (i = 0; i <= 65535U; i++) {
		printf("%5u ", i);
		print_nbits(i, 16);
		printf(" %06o %04X\n", i, i);
	}

	return 0;
}

```
## list0709.c
```c
/*
	表示浮點型變數的值
*/

#include <stdio.h>

int main(void)
{
	float a       = 123456789012345678901234567890.0;
	double b      = 123456789012345678901234567890.0;
	long double c = 123456789012345678901234567890.0;

	printf("a = %f\n",  a);
	printf("b = %f\n",  b);
	printf("c = %lf\n", c);

	return 0;
}
```
## list0710.c
```c
/*
	求出兩點間的距離
*/

#include <math.h>
#include <stdio.h>

/*--- 求出點(x1,y1)和點(x2,y2)之間的距離 ---*/
double dist(double x1, double y1, double x2, double y2)
{
	return sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));
}

int main(void)
{
	double x1, y1;		/* 點1 */
	double x2, y2;		/* 點2 */

	printf("求兩點間的距離。\n");
	printf("點1···X座標");   scanf("%lf", &x1);
	printf("      Y座標");   scanf("%lf", &y1);
	printf("點2···X座標");   scanf("%lf", &x2);
	printf("      Y座標");   scanf("%lf", &y2);

	printf("兩點之間的距離為%f。\n", dist(x1, y1, x2, y2));

	return 0;
}
```
## list0711.c
```c
/*
	以0.01為單位從0.0遞增至1.0的迴圈
*/

#include <stdio.h>

int main(void)
{
	float x;

	for (x = 0.0; x <= 1.0; x += 0.01)
		printf("x = %f\n", x);

	return 0;
}
```
## list0711a.c
```c
/*
	以0.01為單位從0.0遞增至1.0的迴圈[改]
*/

#include <stdio.h>

int main(void)
{
	float x;

	for (x = 0.0; x != 1.0; x += 0.01)
		printf("x = %f\n", x);

	return 0;
}
```
## list0712.c
```c
/*
	以0.01為單位從0.0遞增至1.0的迴圈（用整數控制）
*/

#include <stdio.h>

int main(void)
{
	int i;
	float x;

	for (i = 0; i <= 100; i++) {
		x = i / 100.0;
		printf("x = %f\n", x);
	}

	return 0;
}
```
## summary.c
```c
/*
	對浮點數進行多次加法運算
*/

#include <stdio.h>

int main(void)
{
	int i, no;
	float value;		/* 值 */
	float sum = 0.0f;	/* 和 */

	puts("對浮點數進行多次加法運算。");
	printf("值");     scanf("%f", &value);
	printf("次數");   scanf("%d", &no);

	for (i = 0; i < no; i++)
		sum += value;
	printf("加法運算的結果是%f。\n", sum);

	return 0;
}
```


#  ch8
## list0801.c
```c
/*
	整數的平方和浮點數的平方（函數）
*/

#include <stdio.h>

/*--- 求int型整數的平方值 ---*/
int sqr_int(int x)
{
	return x * x;
}

/*--- 求double型浮點數的平方值 ---*/
double sqr_double(double x)
{
	return x * x;
}

int main(void)
{
	int    n;
	double x;

	printf("請輸入一個整數：");
	scanf("%d", &n);
	printf("該數的平方是%d。\n", sqr_int(n));

	printf("請輸入一個實數：");
	scanf("%lf", &x);
	printf("該數的平方是%f。\n", sqr_double(x));

	return 0;
}
```
## list0802.c
```c
/*
	整數的平方和浮點數的平方（函數式巨集）
*/

#include <stdio.h>

#define sqr(x)  ((x) * (x))		/* 計算x的平方的函數式巨集 */

int main(void)
{
	int    n;
	double x;

	printf("請輸入一個整數：");
	scanf("%d", &n);
	printf("該數的平方是%d。\n", sqr(n));

	printf("請輸入一個實數：");
	scanf("%lf", &x);
	printf("該數的平方是%f。\n", sqr(x));

	return 0;
}
```
## list0803.c
```c
/*
	響鈴並顯示的巨集定義（誤例：不可編譯、執行）
*/

#include <stdio.h>

#define puts_alert(str)  { putchar('\a'); puts(str); }

int main(void)
{
	int n;

	printf("請輸入一個整數：");
	scanf("%d", &n);

	if (n)
		puts_alert("這個數不是0。");
	else
		puts_alert("這個數是0。");

	return 0;
}
```
## list0804.c
```c
/*
	響鈴並顯示的巨集定義
*/

#include <stdio.h>

#define puts_alert(str)  ( putchar('\a') , puts(str) )

int main(void)
{
	int n;

	printf("請輸入一個整數：");
	scanf("%d", &n);

	if (n)
		puts_alert("這個數不是0。");
	else
		puts_alert("這個數是0。");

	return 0;
}
```
## list0805.c
```c
/*
	讀取學生的身高並排序
*/

#include <stdio.h>

#define NUMBER	5		/* 人數 */

/*--- 冒泡排序 ---*/
void bsort(int a[], int n)
{
	int i, j;

	for (i = 0; i < n - 1; i++) {
		for (j = n - 1; j > i; j--) {
			if (a[j - 1] > a[j]) {
				int temp = a[j];
				a[j] = a[j - 1];
				a[j - 1] = temp;
			}
		}
	}
}

int main(void)
{
	int i;
	int height[NUMBER];		/* NUMBER名學生的身高 */

	printf("請輸入%d人的身高。\n", NUMBER);
	for (i = 0; i < NUMBER; i++) {
		printf("%2d號：", i + 1);
		scanf("%d", &height[i]);
	}

	bsort(height, NUMBER);		/* 排序 */

	puts("按昇冪排列。");
	for (i = 0; i < NUMBER; i++)
		printf("%2d號：%d\n", i + 1, height[i]);

	return 0;
}
```
## list0806.c
```c
/*
	珆尨垀恁雄昜腔請汒
*/

#include <stdio.h>

enum animal { Dog, Cat, Monkey, Invalid };

/*--- 僩請 ---*/
void dog(void)
{
	puts("匽匽!!");
}

/*--- 癡請 ---*/
void cat(void)
{
	puts("裚~!!");
}

/*--- 綽請 ---*/
void monkey(void)
{
	puts("裍裍!!");
}

/*--- 恁寁雄昜 ---*/
enum animal select(void)
{
	int tmp;

	do {
		printf("0﹞﹞﹞僩  1﹞﹞﹞癡  2﹞﹞﹞綽   3﹞﹞﹞賦旰ㄩ");
		scanf("%d", &tmp);
	} while (tmp < Dog || tmp > Invalid);
	return tmp;
}

int main(void)
{
	enum animal selected;

	do {
		switch (selected = select()) {
		 case Dog	 : dog();	 break;
		 case Cat	 : cat();	 break;
		 case Monkey : monkey(); break;
		}
	} while (selected != Invalid);

	return 0;
}
```
## list0807.c
```c
/*
	計算階乘
*/

#include <stdio.h>

/*--- 返回階乘的值 ---*/
int factorial(int n)
{
	if (n > 0)
		return n * factorial(n - 1);
	else
		return 1;
}

int main(void)
{
	int num;

	printf("請輸入一個整數：");
	scanf("%d", &num);

	printf("該數的階乘為%d。\n", num, factorial(num));

	return 0;
}
```
## list0808.c
```c
/*
	將標準輸入的資料複製到標準輸出
*/

#include <stdio.h>

int main(void)
{
	int ch;

	while ((ch = getchar()) != EOF)
		putchar(ch);

	return 0;
}
```
## list0809.c
```c
/*
	計算標準輸入流中出現的數位字元數
*/

#include <stdio.h>

int main(void)
{
	int i, ch;
	int cnt[10] = {0};	/* 數位字元的出現次數 */

	while ((ch = getchar()) != EOF) {
		switch (ch) {
		 case '0' : cnt[0]++; break;
		 case '1' : cnt[1]++; break;
		 case '2' : cnt[2]++; break;
		 case '3' : cnt[3]++; break;
		 case '4' : cnt[4]++; break;
		 case '5' : cnt[5]++; break;
		 case '6' : cnt[6]++; break;
		 case '7' : cnt[7]++; break;
		 case '8' : cnt[8]++; break;
		 case '9' : cnt[9]++; break;
		}
	}

	puts("數位字元的出現次數");
	for (i = 0; i < 10; i++)
		printf("'%d'：%d\n", i, cnt[i]);

	return 0;
}
```
## list0810.c
```c
/*
	計算標準輸入流中出現的數位字元數（第2版）
*/

#include <stdio.h>

int main(void)
{
	int i, ch;
	int cnt[10] = {0};		/* 數位字元的出現次數 */

	while ((ch = getchar()) != EOF) {
		if (ch >= '0' && ch <= '9')
			cnt[ch - '0']++;
	}

	puts("數位字元的出現次數");
	for (i = 0; i < 10; i++)
		printf("'%d'：%d\n", i, cnt[i]);

	return 0;
}
```
## list0811.c
```c
/*
	顯示EOF和數位字元的值
*/

#include <stdio.h>

int main(void)
{
	int i;

	printf("EOF = %d\n", EOF);

	for (i = 0; i < 10; i++)
		printf("'%d' = %d\n", i, '0' + i);

	return 0;
}
```
## summary1.c
```c
/*
	第8章總結（枚舉）
*/

#include <stdio.h>

enum RGB {Red, Green, Blue};

int main(void)
{
	int color;

	printf("0~2的值：");  scanf("%d", &color);

	printf("你選擇了");  
	switch (color) {
	 case 0 : printf("紅色。\n");  break;
	 case 1 : printf("綠色。\n");  break;
	 case 2 : printf("藍色。\n");  break;
	}

	return 0;
}
```
## summary2.c
```c
/*
	第8章總結（函數式巨集、逗號運算子、字元的輸入輸出等）
*/

#include <stdio.h>

/* 響鈴 */
#define alert() (putchar('\a'))

/* 顯示字元c並換行 */
#define putchar_ln(c) (putchar(c), putchar('\n'))

int main(void)
{
	int ch;
	int sum = 0;	/* 顯示所有數位之和 */

	while ((ch = getchar()) != EOF) {
		if (ch >= '0' && ch <= '9')
			sum += ch - '0';

		if (ch == '\n') {
			alert();
			putchar('\n');
		} else {
			putchar_ln(ch);
		}
	}

	printf("所有數字之和為%d。\n", sum);

	return 0;
}
```


#  ch9
## list0901.c
```c
/*
	顯示字串字面量的長度
*/

#include <stdio.h>

int main(void)
{
	printf("sizeof(\"123\")       = %u\n",  (unsigned)sizeof("123"));
	printf("sizeof(\"AB\\tC\")    = %u\n", (unsigned)sizeof("AB\tC"));
	printf("sizeof(\"abc\\0def\") = %u\n", (unsigned)sizeof("abc\0def"));

	return 0;
}
```
## list0902.c
```c
/*
	將字串存儲在陣列中並顯示（其1：賦值）
*/

#include <stdio.h>

int main(void)
{
	char str[4];	/* 保存字串的陣列 */

	str[0] = 'A';	/* 賦值 */
	str[1] = 'B';	/* 賦值 */
	str[2] = 'C';	/* 賦值 */
	str[3] = '\0';	/* 賦值 */

	printf("字串str為\"%s\"。\n", str);	/* 顯示 */

	return 0;
}
```
## list0903.c
```c
/*
	將字串存儲在陣列中並顯示（其2：初始化）
*/

#include <stdio.h>

int main(void)
{
	char str[] = "ABC";		/* 用{'A', 'B', 'C', '\0'}初始化 */

	printf("字串str為\"%s\"。\n", str);	/* 顯示 */

	return 0;
}
```
## list0904.c
```c
/*
	詢問名字並顯示問候語（讀取字串）
*/

#include <stdio.h>

int main(void)
{
	char name[48];

	printf("請輸入您的名字：");
	scanf("%s", name);

	printf("您好，%s先生/女士!!\n", name);

	return 0;
}
```
## list0905.c
```c
/*
	格式化字串"12345"並顯示
*/

#include <stdio.h>

int main(void)
{
	char str[] = "12345";

	printf("%s\n",   str);		/* 原樣輸出 */
	printf("%3s\n",  str);		/* 至少顯示3位元 */
	printf("%.3s\n", str);		/* 最多顯示3位元 */
	printf("%8s\n",  str);		/* 右對齊 */
	printf("%-8s\n", str);		/* 左對齊 */

	return 0;
}
```
## list0906.c
```c
/*
	趼睫揹杅郪
*/

#include <stdio.h>

int main(void)
{
	int  i;
	char cs[][6] = {"Turbo", "NA", "DOHC"};

	for (i = 0; i < 3; i++)
		printf("cs[%d] = \"%s\"\n", i, cs[i]);

	return 0;
}
```
## list0907.c
```c
/*
	讀取並顯示字串陣列
*/

#include <stdio.h>

int main(void)
{
	int  i;
	char s[3][128];

	for (i = 0; i < 3; i++) {
		printf("s[%d] : ", i);
		scanf("%s", s[i]);
	}

	for (i = 0; i < 3; i++)
		printf("s[%d] = \"%s\"\n", i, s[i]);

	return 0;
}
```
## list0908.c
```c
/*
	判斷字串的長度
*/

#include <stdio.h>

/*--- 返回字串str的長度 ---*/
int str_length(const char s[])
{
	int len = 0;

	while (s[len])
		len++;
	return len;
}

int main(void)
{
	char str[128];	/* 包括null字元在內，共可存儲128個字元 */

	printf("請輸入字串：");
	scanf("%s", str);

	printf("字串\"%s\"的長度是%d。\n", str, str_length(str));

	return 0;
}
```
## list0909.c
```c
/*
	梢盪趼睫揹甜珆尨
*/

#include <stdio.h>

/*--- 珆尨趼睫揹sㄗ祥遙俴ㄘ---*/
void put_string(const char s[])
{
	int i = 0;
	while (s[i])
		putchar(s[i++]);
}

int main(void)
{
	char str[128];

	printf("懷趼睫揹ㄩ");
	scanf("%s", str);

	printf("斕懷賸");
	put_string(str);
	printf("﹝\n");

	return 0;
}
```
## list0910.c
```c
/*
	計算字串中的數位字元數
*/

#include <stdio.h>

/*--- 將字串s中的數位字元的出現次數保存至陣列cnt ---*/
void str_dcount(const char s[], int cnt[])
{
	int i = 0;
	while (s[i]) {
		if (s[i] >= '0' && s[i] <= '9')
			cnt[s[i] - '0']++;
		i++;
	}
}

int main(void)
{
	int  i;
	int  dcnt[10] = {0};	/* 分佈 */
	char str[128];			/* 字串 */

	printf("請輸入字串：");
	scanf("%s", str);

	str_dcount(str, dcnt);

	puts("數位字元的出現次數");
	for (i = 0; i < 10; i++)
		printf("'%d'：%d\n", i, dcnt[i]);

	return 0;
}
```
## list0911.c
```c
/*
	對字串中的英文字元進行大小寫轉換
*/

#include <ctype.h>
#include <stdio.h>

/*--- 將字串中的英文字元轉為大寫字母 ---*/
void str_toupper(char s[])
{
	int i = 0;
	while (s[i]) {
		s[i] = toupper(s[i]);
		i++;
	}
}

/*--- 將字串中的英文字元轉為小寫字母 ---*/
void str_tolower(char s[])
{
	int i = 0;
	while (s[i]) {
		s[i] = tolower(s[i]);
		i++;
	}
}

int main(void)
{
	char str[128];

	printf("請輸入字串：");
	scanf("%s", str);

	str_toupper(str);
	printf("大寫字母：%s\n", str);

	str_tolower(str);
	printf("小寫字母：%s\n", str);

	return 0;
}
```
## list0912.c
```c
/*
	顯示字串陣列（函數版）
*/

#include <stdio.h>

/*--- 顯示字串陣列 ---*/
void put_strary(const char s[][6], int n)
{
	int i;
	for (i = 0; i < n; i++)
		printf("s[%d] = \"%s\"\n", i, s[i]);
}

int main(void)
{
	char cs[][6] = {"Turbo", "NA", "DOHC"};

	put_strary(cs, 3);

	return 0;
}
```
## list0913.c
```c
/*
	顯示字串陣列（函數版：逐字元遍歷）
*/

#include <stdio.h>

/*--- 顯示字串陣列（逐個顯示字元）---*/
void put_strary2(const char s[][6], int n)
{
	int i;
	for (i = 0; i < n; i++) {
		int j = 0;
		printf("s[%d] = \"", i);

		while (s[i][j])
			putchar(s[i][j++]);

		puts("\"");
	}
}

int main(void)
{
	char cs[][6] = {"Turbo", "NA", "DOHC"};

	put_strary2(cs, 3);

	return 0;
}
```
## summary.c
```c
/*
	遍歷字串並顯示
*/

#include <stdio.h>

#define STR_LENGTH	128		/* 字串的最大長度（包括null字元）*/

/*--- 顯示字串s及其構成字元 ---*/
void put_string_rep(const char s[])
{
	int i = 0;

	while (s[i])
		putchar(s[i++]);

	printf("   { ");

	i = 0;
	while (s[i]) {
		putchar('"');
		putchar(s[i++]);
		printf("' ");
	}

	printf("'\\0' }\n");
}

int main(void)
{
	int i;
	char s[STR_LENGTH];
	char ss[5][STR_LENGTH];

	printf("字串s：");
	scanf("%s", s);

	printf("請輸入5個字串。\n");
	for (i = 0; i < 5; i++) {
		printf("ss[%d]：", i);
		scanf("%s", ss[i]);
	}

	printf("字串s：");
	put_string_rep(s);

	printf("字串陣列ss\n");
	for (i = 0; i < 5; i++) {
		printf("ss[%d]：", i);
		put_string_rep(ss[i]);
	}

	return 0;
}
```


#  ch10
## list1001.c
```c
/*
	計算兩個整數的和與差（誤例）
*/

#include <stdio.h>

/*--- 將n1和n2的和、差分別保存至sum、diff（誤例）---*/
void sum_diff(int n1, int n2, int sum, int diff)
{ 
	sum  = n1 + n2;							/* 和 */
	diff = (n1 > n2) ? n1 - n2 : n2 - n1;	/* 差 */
}

int main(void)
{
	int na, nb;
	int wa = 0, sa = 0;

	puts("請輸入兩個整數。");
	printf("整數A：");   scanf("%d", &na);
	printf("整數B：");   scanf("%d", &nb);

	sum_diff(na, nb, wa, sa);

	printf("兩數之和為%d，之差為%d。\n", wa, sa);

	return 0;
}
```
## list1002.c
```c
/*
	顯示物件的位址
*/

#include <stdio.h>

int main(void)
{
	int    n;
	double x;
	int    a[3];

	printf("n   的地址：%p\n", &n);
	printf("x   的地址：%p\n", &x);
	printf("a[0]的地址：%p\n", &a[0]);
	printf("a[1]的地址：%p\n", &a[1]);
	printf("a[2]的地址：%p\n", &a[2]);

	return 0;
}
```
## list1003.c
```c
/*
	通過指針間接地操作身高
*/

#include <stdio.h>

int main(void)
{
	int sato   = 178;	/* 佐藤的身高 */
	int sanaka = 175;	/* 佐中的身高 */
	int masaki = 179;	/* 真崎的身高 */

	int *isako, *hiroko;

	isako  = &sato;			/* isako 指向sato（喜歡佐藤）*/
	hiroko = &masaki;		/* hiroko指向masaki（喜歡真崎）*/

	printf("伊沙子喜歡的人的身高：%d\n", *isako);
	printf("洋子喜歡的人的身高：%d\n", *hiroko);

	isako = &sanaka;		/* isako指向sanaka（移情別戀）*/

	*hiroko = 180;			/* 將hiroko指向的對象賦為180 */
							/* 修改洋子喜歡的人的身高 */

	putchar('\n');
	printf("佐藤的身高：%d\n", sato);
	printf("佐中的身高：%d\n", sanaka);
	printf("真崎的身高：%d\n", masaki);
	printf("伊沙子喜歡的人的身高：%d\n", *isako);
	printf("洋子喜歡的人的身高：%d\n", *hiroko);

	return 0;
}
```
## list1004.c
```c
/*
	通過指針間接修改身高
*/

#include <stdio.h>

/*--- 洋子（讓身高不到180cm的人長到180cm）---*/
void hiroko(int *height)
{
	if (*height < 180)
		*height = 180;
}

int main(void)
{
	int sato   = 178;		/* 佐藤的身高 */
	int sanaka = 175;		/* 佐中的身高 */
	int masaki = 179;		/* 真崎的身高 */

	hiroko(&masaki);

	printf("佐藤的身高：%d\n", sato);
	printf("佐中的身高：%d\n", sanaka);
	printf("真崎的身高：%d\n", masaki);

	return 0;
}
```
## list1005.c
```c
/*
	計算兩個整數的和與差
*/

#include <stdio.h>

/*--- 將n1和n2的和、差分別保存至*sum和*diff ---*/
void sum_diff(int n1, int n2, int *sum, int *diff)
{ 
	*sum  = n1 + n2;
	*diff = (n1 > n2) ? n1 - n2 : n2 - n1;
}

int main(void)
{
	int na, nb;
	int wa = 0, sa = 0;

	puts("請輸入兩個整數。");
	printf("整數A：");   scanf("%d", &na);
	printf("整數B：");   scanf("%d", &nb);

	sum_diff(na, nb, &wa, &sa);

	printf("兩數之和是%d，之差是%d。\n", wa, sa);

	return 0;
}
```
## list1006.c
```c
/*
	將兩個整數值互換
*/

#include <stdio.h>

/*--- 將px、py指向的對象的值進行互換 ---*/
void swap(int *px, int *py)
{
	int temp = *px;
	*px = *py;
	*py = temp;
}

int main(void)
{
	int na, nb;

	puts("請輸入兩個整數。");
	printf("整數A：");   scanf("%d", &na);
	printf("整數B：");   scanf("%d", &nb);

	swap(&na, &nb);

	puts("互換了兩數的值。");
	printf("整數A是%d。\n", na);
	printf("整數B是%d。\n", nb);

	return 0;
}
```
## list1007.c
```c
/*
	將兩個整數值按昇冪排列
*/

#include <stdio.h>

/*--- 將px、py所指對象的值進行互換 ---*/
void swap(int *px, int *py)
{
	int temp = *px;
	*px = *py;
	*py = temp;
}

/*--- 排列順序為*n1≤*n2 ---*/
void sort2(int *n1, int *n2)
{
	if (*n1 > *n2)
		swap(n1, n2);
}

int main(void)
{
	int na, nb;

	puts("請輸入兩個整數。");
	printf("整數A：");   scanf("%d", &na);
	printf("整數B：");   scanf("%d", &nb);

	sort2(&na, &nb);

	puts("將兩數的值按昇冪排列。");
	printf("整數A是%d。\n", na);
	printf("整數B是%d。\n", nb);

	return 0;
}
```
## list1008.c
```c
/*
	將兩個實數值進行互換（誤例）
*/

#include <stdio.h>

/*--- 將px、py所指對象的值進行互換 ---*/
void swap(int *px, int *py)
{
	int temp = *px;
	*px = *py;
	*py = temp;
}

int main(void)
{
	double da, db;

	puts("請輸入兩個實數。");
	printf("實數A：");  scanf("%lf", &da);
	printf("實數B：");  scanf("%lf", &db);

	swap(&da, &db);

	puts("互換了兩數的值。");
	printf("實數A是%f。\n", da);
	printf("實數B是%f。\n", db);

	return 0;
}
```
## list1009.c
```c
/*
	顯示陣列元素的位址（指向元素的指標）
*/

#include <stdio.h>

int main(void)
{
	int i;
	int a[5] = {1, 2, 3, 4, 5};
	int *p = a;				/* p指向a[0] */

	for (i = 0; i < 5; i++)
		printf("&a[%d] = %p   p+%d = %p\n", i, &a[i], i, p + i);

	return 0;
}
```
## list1010.c
```c
/*
	顯示陣列元素的值和位址
*/

#include <stdio.h>

int main(void)
{
	int i;
	int a[5] = {1, 2, 3, 4, 5};
	int *p = a;				/* p指向a[0] */

	for (i = 0; i < 5; i++)
		printf("a[%d] = %d  *(a+%d) = %d  p[%d] = %d  *(p+%d) = %d\n",
								i, a[i], i, *(a + i), i, p[i], i, *(p + i));

	for (i = 0; i < 5; i++)
		printf("&a[%d] = %p  a+%d = %p  &p[%d] = %p  p+%d = %p\n",
								i, &a[i], i, (a + i), i, &p[i], i, (p + i));

	return 0;
}
```
## list1011.c
```c
/*
	陣列的傳遞
*/

#include <stdio.h>

/*--- 將陣列v開頭的n個元素賦給val ---*/
void ary_set(int v[], int n, int val)
{
	int i;

	for (i = 0; i < n; i++)
		v[i] = val;
}

int main(void)
{
	int i;
	int a[] = {1, 2, 3, 4, 5};

	ary_set(a, 5, 99);

	for (i = 0; i < 5; i++)
		printf("a[%d] = %d\n", i, a[i]);

	return 0;
}
```
## listC1001.c
```c
/*
	下標運算子和指針運算子
*/

#include <stdio.h>

int main(void)
{
	int i, a[4];

	0[a] = a[1] = *(a + 2) = *(3 + a) = 7;

	for (i = 0; i < 4; i++)
		printf("a[%d] = %d\n", i, a[i]);

	return 0;
}
```
## register.c
```c
/*
	無法取得位址的物件（本程式無法執行）
*/

#include <stdio.h>

int main(void)
{
	register int x;

	printf("%p\n", &x);		/* 錯誤 */

	return 0;
}
```
## summary.c
```c
/*
	讀取學生的分數並按昇冪排列
*/

#include <stdio.h>

#define NUMBER	5		/* 人數 */

/*--- 交換px和py所指對象的值 ---*/
void swap(int *px, int *py)
{
	int temp = *px;
	*px = *py;
	*py = temp;
}

/*--- 冒泡排序法 ---*/
void bsort(int a[], int n)
{
	int i, j;

	for (i = 0; i < n - 1; i++)
		for (j = n - 1; j > i; j--)
			if (a[j - 1] > a[j])
				swap(&a[j], &a[j - 1]);
}

int main(void)
{
	int i;
	int point[NUMBER];		/* NUMBER名學生的分數 */

	printf("請輸入%d人的分數。\n", NUMBER);
	for (i = 0; i < NUMBER; i++) {
		printf("%2d號：", i + 1);
		scanf("%d", &point[i]);
	}

	bsort(point, NUMBER);		/* 排序 */

	puts("按昇冪排列。");
	for (i = 0; i < NUMBER; i++)
		printf("%2d號：%d\n", i + 1, point[i]);

	return 0;
}
```


#  ch11
## list1101.c
```c
/*
	用陣列實現的字串和用指標實現的字串
*/

#include <stdio.h>

int main(void)
{
	char str[] = "ABC";		/* 用陣列實現的字串 */
	char *ptr  = "123";		/* 用指標實現的字串 */

	printf("str = \"%s\"\n", str);		/* str是指向第一個字元的指標 */
	printf("ptr = \"%s\"\n", ptr);		/* ptr是指向第一個字元的指標 */

	return 0;
}
```
## list1102.c
```c
/*
	用陣列實現的字串的改寫
*/

#include <stdio.h>

int main(void)
{
	char s[] = "ABC";

	printf("s = \"%s\"\n", s);

	s = "DEF";		/* 出錯 */

	printf("s = \"%s\"\n", s);

	return 0;
}
```
## list1103.c
```c
/*
	用指標實現的字串的改寫
*/

#include <stdio.h>

int main(void)
{
	char *p = "123";

	printf("p = \"%s\"\n", p);

	p = "456";		/* OK！ */

	printf("p = \"%s\"\n", p);

	return 0;
}
```
## list1104.c
```c
/*
	趼睫揹杅郪
*/

#include <stdio.h>

int main(void)
{
	int  i;
	char a[][5] = {"LISP", "C", "Ada"};
	char *p[]   = {"PAUL", "X", "MAC"};

	for (i = 0; i < 3; i++)
		printf("a[%d] = \"%s\"\n", i, a[i]);

	for (i = 0; i < 3; i++)
		printf("p[%d] = \"%s\"\n", i, p[i]);

	return 0;
}
```
## list1105.c
```c
/*
	判斷字串的長度（使用指標遍歷）
*/

#include <stdio.h>

/*--- 返回字串s的長度 ---*/
int str_length(const char *s)
{
	int len = 0;

	while (*s++)
		len++;
	return len;
}

int main(void)
{
	char str[128];

	printf("請輸入字串：");
	scanf("%s", str);

	printf("字串\"%s\"的長度是%d。\n", str, str_length(str));

	return 0;
}
```
## list1106.c
```c
/*
	複製字串
*/

#include <stdio.h>

/*--- 將字串s複製到d ---*/
char *str_copy(char *d, const char *s)
{
	char *t = d;

	while (*d++ = *s++)
		;
	return t;
}

int main(void)
{
	char str[128] = "ABC";
	char tmp[128];

	printf("str = \"%s\"\n", str);

	printf("複製的是：", tmp);
	scanf("%s", tmp);

	str_copy(str, tmp);

	puts("複製了。");
	printf("str = \"%s\"\n", str);

	return 0;
}
```
## list1106a.c
```c
/*
	複製字串
*/
#include <stdio.h>

/*--- 將字串s複製到d ---*/
char *str_copy(char *d, const char *s)
{
	int i;

	while (d[i] = s[i])
		i++;
	return d;
}

int main(void)
{
	char str[128] = "ABC";
	char tmp[128];

	printf("str = \"%s\"\n", str);

	printf("複製的是：", tmp);
	scanf("%s", tmp);

	str_copy(str, tmp);

	puts("複製了。");
	printf("str = \"%s\"\n", str);

	return 0;
}
```
## list1107.c
```c
/*
	複製字串（誤例）
*/

#include <stdio.h>

/*--- 將字串s複製到d ---*/
char *str_copy(char *d, const char *s)
{
	char *t = d;

	while (*d++ = *s++)
		;
	return t;
}

int main(void)
{
	char *ptr = "1234";
	char tmp[128];

	printf("ptr = \"%s\"\n", ptr);

	printf("複製的是：", tmp);
	scanf("%s", tmp);

	str_copy(ptr, tmp);					/* 將tmp複製到ptr */

	puts("複製了。");
	printf("ptr = \"%s\"\n", ptr);		/* 顯示複製後的ptr */

	return 0;
}
```
## list1108.c
```c
/*--- 殿隙趼睫揹s腔酗僅 ---*/
size_t strlen(const char *s)
{
	size_t len = 0;

	while (*s++)
		len++;

	return len;
}
```
## list1109.c
```c
/*--- 使用strcpy函數的例子 ---*/
char *strcpy(char *s1, const char *s2)
{
	char *tmp = s1;

	while (*s1++ = *s2++)
		;

	return tmp;
}

/*--- 使用strncpy函數的例子 ---*/
char *strncpy(char *s1, const char *s2, size_t n)
{
	char *tmp = s1;

	while (n) {
		if (!(*s1++ = *s2++)) break;	/* 遇到'\0'就結束迴圈 */
		n--;
	}
	while (n--)
		*s1++ = '\0';					/* 用'\0'填充剩餘部分 */

	return tmp;
}
```
## list1110.c
```c
/*--- 使用strcat函數的例子 ---*/
char *strcat(char *s1, const char *s2)
{
	char *tmp = s1;

	while (*s1)					/* 前進到s1的末尾處 */
		s1++;
	while (*s1++ = *s2++)		/* 迴圈複製直到遇到s2中的'\0' */
		;

	return tmp;
}

/*--- 使用strncat函數的例子 ---*/
char *strncat(char *s1, const char *s2, size_t n)
{
	char *tmp = s1;

	while (*s1)							/* 前進到s1的末尾處 */
		s1++;
	while (n--)
		if (!(*s1++ = *s2++)) break;	/* 遇到'\0'就結束迴圈 */
	*s1 = '\0';							/* 在s1的末尾插入'\0' */

	return tmp;
}
```
## list1111.c
```c
/*--- 使用strcmp函數的例子 ---*/
int strcmp(const char *s1, const char *s2)
{
	while (*s1 == *s2) {
		if (*s1 == '\0')
			return 0;								/* 相等 */
		s1++;
		s2++;
	}

	return (unsigned char)*s1 - (unsigned char)*s2;
}

/*--- 使用strncmp函數的例子 ---*/
int strncmp(const char *s1, const char *s2, size_t n)
{
	while (n && *s1 && *s2) {
		if (*s1 != *s2)								/* 不相等 */
			return (unsigned char)*s1 - (unsigned char)*s2;
		s1++;
		s2++;
		n--;
	}
	if (!n)  return 0;								/* 相等 */
	if (*s1) return 1;								/* s1 > s2 */

	return -1;										/* s1 < s2 */
}
```
## list1112.c
```c
/*
	使用atoi函數的例子
*/

#include <stdio.h>
#include <stdlib.h>

int main(void)
{
	char str[128];

	printf("請輸入字串：");
	scanf("%s", str);

	printf("轉換為整數後為%d。\n", atoi(str));

	return 0;
}
```
## summary.c
```c
/*
	字串和字串陣列
*/

#include <ctype.h>
#include <stdio.h>

/*--- 用""將字串s括起來顯示並換行 ---*/
#define put_str_ln(s)  (put_str(s), putchar('\n'))

/*--- 用""將字串s括起來顯示 ---*/
void put_str(const char *s)
{
	putchar('\"');
	while (*s)
		putchar(*s++);
	putchar('\"');
}

/*--- 將字串轉換為大寫並複製 ---*/
char *str_cpy_toupper(char *d, const char *s)
{
	char *tmp = d;

	while (*d++ = toupper(*s++))
		;

	return tmp;
}

int main(void)
{
	int i;
	char s[128], t[128];	/* 用陣列實現的字串 */
	char a[] = "CIA";		/* 用陣列實現的字串 */
	char *p  = "FBI";		/* 用指標實現的字串 */
	char a2[][5] = {"LISP", "C", "Ada"};	/* 用陣列實現的字串的陣列 */
	char *p2[]   = {"PAUL", "X", "MAC"};	/* 用指標實現的字串的陣列 */

	printf("字串s = ");   scanf("%s", s);
	printf("轉換為大寫並複製到了陣列t。\n");
	printf("字串t = %s\n", str_cpy_toupper(t, s));

	printf("a = ");   put_str_ln(a);
	printf("p = ");   put_str_ln(p);

	for (i = 0; i < sizeof(a2) / sizeof(a2[0]); i++) {
		printf("a2[%d] = ", i);   put_str_ln(a2[i]);
	}

	for (i = 0; i < sizeof(p2) / sizeof(p2[0]); i++) {
		printf("p2[%d] = ", i);   put_str_ln(p2[i]);
	}
}
```


#  ch12
## list1201.c
```c
/*
	對5名學生的“姓名和身高”按身高進行昇冪排列
*/

#include <stdio.h>
#include <string.h>

#define NUMBER		5		/* 學生人數 */
#define NAME_LEN	64		/* 姓名的字元數 */

/*--- 交換x和y指向的整數值 ---*/
void swap_int(int *x, int *y)
{
	int temp = *x;
	*x = *y;
	*y = temp;
}

/*--- 交換sx和sy指向的字串 ---*/
void swap_str(char *sx, char *sy)
{
	char temp[NAME_LEN];

	strcpy(temp, sx);
	strcpy(sx, sy);
	strcpy(sy, temp);
}

/*--- 基於num對陣列num和str的前n個元素進行昇冪排列 ---*/
void sort(int num[], char str[][NAME_LEN], int n)
{
	int i, j;

	for (i = 0; i < n - 1; i++) {
		for (j = n - 1; j > i; j--) {
			if (num[j - 1] > num[j]) {
				swap_int(&num[j - 1], &num[j]);
				swap_str( str[j - 1],  str[j]);
			}
		}
	}
}

int main(void)
{
	int  i;
	int  height[] =         {178,    175,      173,     165,    179};
	char name[][NAME_LEN] = {"Sato", "Sanaka", "Takao", "Mike", "Masaki"};

	for (i = 0; i < NUMBER; i++)
		printf("%2d：%-8s%4d\n", i + 1, name[i], height[i]);

	sort(height, name, NUMBER);		/* 按身高由低到高的順序排列身高和姓名 */

	puts("\n按身高進行昇冪排列。");
	for (i = 0; i < NUMBER; i++)
		printf("%2d：%-8s%4d\n", i + 1, name[i], height[i]);

	return 0;
}
```
## list1202.c
```c
/*
	用表示學生的結構體來顯示佐中的資訊
*/

#include <stdio.h>
#include <string.h>

#define NAME_LEN	64		/* 姓名的字元數 */

/*=== 表示學生的結構體 ===*/
struct student {
	char  name[NAME_LEN];	/* 姓名 */
	int   height;			/* 身高 */
	float weight;			/* 體重 */
	long  schols;			/* 獎學金 */
};

int main(void)
{
	struct student sanaka;

	strcpy(sanaka.name, "Sanaka");	/* 姓名 */
	sanaka.height = 175;			/* 身高 */
	sanaka.weight = 62.5;			/* 體重 */
	sanaka.schols = 73000;			/* 獎學金 */

	printf("姓名 = %s\n",   sanaka.name);
	printf("身高 = %d\n",   sanaka.height);
	printf("體重 = %.1f\n", sanaka.weight);
	printf("獎學金 = %ld\n",  sanaka.schols);

	return 0;
}
```
## list1203.c
```c
/*
	用表示學生的結構體來顯示高尾的資訊
*/

#include <stdio.h>

#define NAME_LEN	64		/* 姓名的字元數 */

/*=== 表示學生的結構體 ===*/
struct student {
	char  name[NAME_LEN];	/* 姓名 */
	int   height;			/* 身高 */
	float weight;			/* 體重 */
	long  schols;			/* 獎學金 */
};

int main(void)
{
	struct student takao = {"Takao", 173, 86.2};

	printf("姓名 = %s\n",   takao.name);
	printf("身高 = %d\n",   takao.height);
	printf("體重 = %.1f\n", takao.weight);
	printf("獎學金 = %ld\n",  takao.schols);

	return 0;
}
```
## list1204.c
```c
/*
	擁有超能力的洋子
*/

#include <stdio.h>

#define NAME_LEN	64		/* 姓名的字元數 */

/*=== 表示學生的結構體 ===*/
struct student {
	char  name[NAME_LEN];	/* 姓名 */
	int   height;			/* 身高 */
	float weight;			/* 體重 */
	long  schols;			/* 獎學金 */
};

/*--- 將std指向的學生的身高變為180cm，體重變為80kg ---*/
void hiroko(struct student *std)
{
	if ((*std).height < 180) (*std).height = 180;
	if ((*std).weight >  80) (*std).weight =  80;
}

int main(void)
{
	struct student sanaka = {"Sanaka", 175, 62.5, 73000};

	hiroko(&sanaka);

	printf("姓名 = %s\n",   sanaka.name);
	printf("身高 = %d\n",   sanaka.height);
	printf("體重 = %.1f\n", sanaka.weight);
	printf("獎學金 = %ld\n",  sanaka.schols);

	return 0;
}
```
## list1204a.c
```c
/*
	擁有超能力的洋子（另一種解法：利用箭頭運算子）
*/

#include <stdio.h>

#define NAME_LEN	64		/* 姓名的字元數 */

/*=== 表示學生的結構體 ===*/
struct student {
	char  name[NAME_LEN];	/* 姓名 */
	int   height;			/* 身高 */
	float weight;			/* 體重 */
	long  schols;			/* 獎學金 */
};

/*--- 將std指向的學生的身高變為180cm，體重變為80kg ---*/
void hiroko(struct student *std)
{
	if (std->height < 180) std->height = 180;
	if (std->weight >  80) std->weight =  80;
}

int main(void)
{
	struct student sanaka = {"Sanaka", 175, 62.5, 73000};

	hiroko(&sanaka);

	printf("姓名 = %s\n",   sanaka.name);
	printf("身高 = %d\n",   sanaka.height);
	printf("體重 = %.1f\n", sanaka.weight);
	printf("獎學金 = %ld\n",  sanaka.schols);

	return 0;
}
```

## list1205.c
```c
/*
	擁有超能力的洋子（在結構體中引入typedef名）
*/

#include <stdio.h>

#define NAME_LEN	64		/* 姓名的字元數 */

/*=== 表示學生的結構體 ===*/
typedef struct student {
	char  name[NAME_LEN];	/* 姓名 */
	int   height;			/* 身高 */
	float weight;			/* 體重 */
	long  schols;			/* 獎學金 */
} Student;

/*--- 將std指向的學生的身高變為180cm，體重變為80kg ---*/
void hiroko(Student *std)
{
	if (std->height < 180) std->height = 180;
	if (std->weight >  80) std->weight =  80;
}

int main(void)
{
	Student sanaka = {"Sanaka", 175, 62.5, 73000};

	hiroko(&sanaka);

	printf("姓名 = %s\n",   sanaka.name);
	printf("身高 = %d\n",   sanaka.height);
	printf("體重 = %.1f\n", sanaka.weight);
	printf("獎學金 = %ld\n",  sanaka.schols);

	return 0;
}
```
## list1206.c
```c
/*
	返回結構體的函數
*/

#include <stdio.h>

/*=== xyz結構體 ===*/
struct xyz {
	int    x;
	long   y;
	double z;
};

/*--- 返回具有{x,y,z}的值的結構體xyz ---*/
struct xyz xyz_of(int x, long y, double z)
{
	struct xyz temp;

	temp.x = x;
	temp.y = y;
	temp.z = z;
	return temp;
}

int main(void)
{
	struct xyz s = {0, 0, 0};

	s = xyz_of(12, 7654321, 35.689);

	printf("xyz.x = %d\n",  s.x);
	printf("xyz.y = %ld\n", s.y);
	printf("xyz.z = %f\n",  s.z);

	return 0;
}
```
## list1207.c
```c
/*
	將5名學生的身高按昇冪排列
*/

#include <stdio.h>
#include <string.h>

#define NUMBER		5		/* 學生人數 */
#define NAME_LEN	64		/* 姓名的字元數 */

/*=== 表示學生的結構體 ===*/
typedef struct {
	char  name[NAME_LEN];	/* 姓名 */
	int   height;			/* 身高 */
	float weight;			/* 體重 */
	long  schols;			/* 獎學金 */
} Student;

/*--- 將x和y指向的學生進行交換 ---*/
void swap_Student(Student *x, Student *y)
{
	Student temp = *x;
	*x = *y;
	*y = temp;
}

/*--- 將學生陣列a的前n個元素按身高進行昇冪排列 ---*/
void sort_by_height(Student a[], int n)
{
	int i, j;

	for (i = 0; i < n - 1; i++) {
		for (j = n - 1; j > i; j--)
			if (a[j - 1].height > a[j].height)
				swap_Student(&a[j - 1], &a[j]);
	}
}

int main(void)
{
	int i;
	Student std[] = {
		{ "Sato",   178, 61.2, 80000},	/* 佐藤 */
		{ "Sanaka", 175, 62.5, 73000},	/* 佐中 */
		{ "Takao",  173, 86.2, 0},		/* 高尾 */
		{ "Mike",   165, 72.3, 70000},	/* 平木 */
		{ "Masaki", 179, 77.5, 70000},	/* 真崎 */
	};

	for (i = 0; i < NUMBER; i++)
		printf("%-8s %6d%6.1f%7ld\n",
			std[i].name, std[i].height, std[i].weight, std[i].schols);

	sort_by_height(std, NUMBER);	/* 按身高進行昇冪排列 */

	puts("\n按身高排序。");
	for (i = 0; i < NUMBER; i++)
		printf("%-8s %6d%6.1f%7ld\n",
			std[i].name, std[i].height, std[i].weight, std[i].schols);

	return 0;
}
```
## list1208.c
```c
/*
	計算兩點之間的距離
*/

#include <math.h>
#include <stdio.h>

#define sqr(n)  ((n) * (n))		/* 計算乘方 */

/*=== 表示點的座標的結構體 ===*/
typedef struct  {
	double x;	/* X座標 */
	double y;	/* Y座標 */
} Point;

/*--- 返回點pa和點pb之間的距離---*/
double distance_of(Point pa, Point pb)
{
	return sqrt(sqr(pa.x - pb.x) + sqr(pa.y - pb.y));
}

int main(void)
{
	Point crnt, dest;

	printf("當前地點的X座標：");   scanf("%lf", &crnt.x);
	printf("          Y座標：");   scanf("%lf", &crnt.y);
	printf("目的地的X座標：");   scanf("%lf", &dest.x);
	printf("        Y座標：");   scanf("%lf", &dest.y);

	printf("到目的地的距離為%.2f。\n", distance_of(crnt, dest));

	return 0;
}
```
## list1209.c
```c
/*
	汽車行駛
*/

#include <math.h>
#include <stdio.h>

#define sqr(n)  ((n) * (n))

/*=== 表示點的座標的結構體 ===*/
typedef struct  {
	double x;	/* X座標 */
	double y;	/* Y座標 */
} Point;

/*=== 表示汽車的結構體 ===*/
typedef struct  {
	Point  pt;		/* 當前位置 */
	double fuel;	/* 剩餘燃料 */
} Car;

/*--- 返回點pa和點pb之間的距離---*/
double distance_of(Point pa, Point pb)
{
	return sqrt(sqr(pa.x - pb.x) + sqr(pa.y - pb.y));
}

/*--- 顯示汽車的當前位置和剩餘燃料 ---*/
void put_info(Car c)
{
	printf("當前位置：(%.2f, %.2f)\n", c.pt.x, c.pt.y);
	printf("剩餘燃料：%.2f升\n", c.fuel);
}

/*--- 使c指向的汽車向目標座標dest行駛 ---*/
int move(Car *c, Point dest)
{
	double d = distance_of(c->pt, dest);	/* 行駛距離 */
	if (d > c->fuel)						/* 行駛距離超過了燃料 */
		return 0;							/* 無法行駛 */
	c->pt = dest;		/* 更新當前位置（向dest移動） */
	c->fuel -= d;		/* 更新燃料（減去行駛距離d所消耗的燃料） */
	return 1;								/* 成功行駛 */
}

int main(void)
{
	Car mycar = {{0.0, 0.0}, 90.0};

	while (1) {
		int select;
		Point dest;			/* 目的地的座標 */

		put_info(mycar);	/* 顯示當前位置和剩餘燃料 */

		printf("開動汽車嗎【Yes···1 / No···0】：");
		scanf("%d", &select);
		if (select != 1) break;

		printf("目的地的X座標：");  scanf("%lf", &dest.x);
		printf("        Y座標：");  scanf("%lf", &dest.y);

		if (!move(&mycar, dest))
			puts("\a燃料不足無法行駛。");
	}

	return 0;
}
```
## summary.c
```c
/*
	表示日期的結構體和表示人的結構體
*/

#include <stdio.h>

#define NAME_LEN	128		/* 姓名的字元數 */

/*=== 表示日期的結構體 ===*/
struct Date {
	int y;		/* 年 */
	int m;		/* 月 */
	int d;		/* 日 */
};

/*=== 表示人的結構體 ===*/
typedef struct {
	char name[NAME_LEN];	/* 姓名 */
	struct Date birthday;	/* 生日 */
} Human;

/*--- 顯示指標h所指向的人的姓名和生日 ---*/
void print_Human(const Human *h)
{
	printf("%s(%04d年%02d月%02d日生)\n",
				h->name, h->birthday.y, h->birthday.m, h->birthday.d);
}

int main(void)
{
	int i;
	struct Date today;		/* 今天的日期 */

	Human member[] = {
		{"古賀政男", {1904, 11, 18}},
		{"柴田望洋", {1963, 11, 18}},
		{"岡田准一", {1980, 11, 18}},
	};

	printf("請輸入今天的日期。\n");
	printf("年：");   scanf("%d", &today.y);
	printf("月：");   scanf("%d", &today.m);
	printf("日：");   scanf("%d", &today.d);

	printf("今天是%d年%d月%d日。\n", today.y, today.m, today.d);

	printf("--- 會員一覽表 ---\n");
	for (i = 0; i < sizeof(member) / sizeof(member[0]); i++)
		print_Human(&member[i]);

	return 0;
}
```


#  ch13
## list1301.c
```c
/*
	打開與關閉文件
*/

#include <stdio.h>

int main(void)
{
	FILE *fp;

	fp = fopen("abc", "r");						/* 打開文件 */

	if (fp == NULL)
		printf("\a無法打開文件\"abc\"。\n");
	else {
		printf("\a成功打開了文件\"abc\"。\n");
		fclose(fp);								/* 關閉文件 */
	}

	return 0;
}
```
## list1302.c
```c
/*
	讀入身高和體重，計算並顯示它們的平均值
*/

#include <stdio.h>

int main(void)
{
	FILE   *fp;
	int    ninzu = 0;			/* 人數 */
	char   name[100];			/* 姓名 */
	double height, weight;		/* 身高，體重 */
	double hsum = 0.0;			/* 身高合計 */
	double wsum = 0.0;			/* 體重合計 */

	if ((fp = fopen("hw.dat", "r")) == NULL)				/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		while (fscanf(fp, "%s%lf%lf", name, &height, &weight) == 3) {
			printf("%-10s %5.1f %5.1f\n", name, height, weight);
			ninzu++;
			hsum += height;
			wsum += weight;
		}
		printf("----------------------\n");
		printf("平均       %5.1f %5.1f\n", hsum / ninzu, wsum / ninzu);
		fclose(fp);											/* 關閉文件 */
	}

	return 0;
}
```
## list1303.c
```c
/*
	向檔寫出程式運行時的日期和時間
*/

#include <time.h>
#include <stdio.h>

int main(void)
{
	FILE *fp;
	time_t current = time(NULL);				/* 當前日曆時間 */
	struct tm *timer = localtime(&current);		/* 分解時間（當地時間）*/

	if ((fp = fopen("dt_dat", "w")) == NULL)				/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		printf("寫出當前日期和時間。\n");
		fprintf(fp, "%d %d %d %d %d %d\n",
			timer->tm_year + 1900, timer->tm_mon + 1, timer->tm_mday,
			timer->tm_hour,		   timer->tm_min,	  timer->tm_sec  );
		fclose(fp);											/* 關閉文件 */
	}

	return 0;
}
```
## list1304.c
```c
/*
	顯示程式上一次運行時的日期和時間
*/

#include <time.h>
#include <stdio.h>

char data_file[] = "datetime.dat";				/* 檔案名 */

/*--- 取得並顯示上一次運行時的日期和時間 ---*/
void get_data(void)
{
	FILE *fp;

	if ((fp = fopen(data_file, "r")) == NULL)				/* 打開文件 */
		printf("本程式第一次運行。\n");
	else {
		int year, month, day, h, m, s;

		fscanf(fp, "%d%d%d%d%d%d", &year, &month, &day, &h, &m, &s);
		printf("上一次運行是在%d年%d月%d日%d時%d分%d秒。\n",
										year, month, day, h, m, s);
		fclose(fp);											/* 關閉文件 */
	}
}

/*--- 寫入本次運行時的日期和時間 ---*/
void put_data(void)
{
	FILE *fp;
	time_t current = time(NULL);				/* 當前日曆時間 */
	struct tm *timer = localtime(&current);		/* 分解時間*/

	if ((fp = fopen(data_file, "w")) == NULL)				/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		fprintf(fp, "%d %d %d %d %d %d\n",
				timer->tm_year + 1900, timer->tm_mon + 1, timer->tm_mday,
				timer->tm_hour,		   timer->tm_min,	  timer->tm_sec);
		fclose(fp);											/* 關閉文件 */
	}
}

int main(void)
{
	get_data();			/* 取得並顯示上一次運行時的日期和時間 */

	put_data();			/* 寫入本次運行時的日期和時間 */

	return 0;
}
```
## list1305.c
```c
/*
	將標準輸入的資料複製到標準輸出
*/

#include <stdio.h>

int main(void)
{
	int ch;

	while ((ch = getchar()) != EOF)
		putchar(ch);

	return 0;
}
```
## list1306.c
```c
/*
	顯示檔內容
*/

#include <stdio.h>

int main(void)
{
	int  ch;
	FILE *fp;
	char fname[FILENAME_MAX];		/* 檔案名 */

	printf("檔案名：");
	scanf("%s", fname);

	if ((fp = fopen(fname, "r")) == NULL)					/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		while ((ch = fgetc(fp)) != EOF)
			putchar(ch);
		fclose(fp);											/* 關閉文件 */
	}

	return 0;
}
```
## list1307.c
```c
/*
	複製檔
*/

#include <stdio.h>

int main(void)
{
	int ch;
	FILE *sfp;						/* 原文件 */
	FILE *dfp;						/* 目的檔案 */
	char sname[FILENAME_MAX];		/* 原檔案名 */
	char dname[FILENAME_MAX];		/* 目的檔案名 */

	printf("打開原文件：");   scanf("%s", sname);
	printf("打開目的檔案：");   scanf("%s", dname);

	if ((sfp = fopen(sname, "r")) == NULL)			/* 打開原文件 */
		printf("\a原文件打開失敗。\n");
	else {
		if ((dfp = fopen(dname, "w")) == NULL)		/* 打開目的檔案 */
			printf("\a目的檔案打開失敗。\n");
		else {
			while ((ch = fgetc(sfp)) != EOF)
				fputc(ch, dfp);
			fclose(dfp);						/* 關閉目的檔案 */
		}
		fclose(sfp);							/* 關閉原文件 */
	}

	return 0;
}
```
## list1308.c
```c
/*
	將圓周率的值寫入目的檔案，再進行讀取
*/

#include <stdio.h>

int main(void)
{
	FILE *fp;
	double pi = 3.14159265358979323846;

	printf("從變數pi得到的圓周率為%23.21f。\n", pi);

	/* 寫入操作 */
	if ((fp = fopen("PI.txt", "w")) == NULL)			/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		fprintf(fp, "%f", pi);							/* 從pi寫入 */
		fclose(fp);										/* 關閉文件 */
	}

	/* 讀取操作 */
	if ((fp = fopen("PI.txt", "r")) == NULL)			/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		fscanf(fp, "%lf", &pi);							/* 讀取至pi */
		printf("從文件讀取的圓周率為%23.21f。\n", pi);
		fclose(fp);										/* 關閉文件 */
	}

	return 0;
}
```
## list1309.c
```c
/*
	將圓周率的值寫入二進位檔案再進行讀取
*/

#include <stdio.h>

int main(void)
{
	FILE *fp;
	double pi = 3.14159265358979323846;

	printf("從變數pi得到的圓周率為%23.21f。\n", pi);

	/* 寫入操作 */
	if ((fp = fopen("PI.bin", "wb")) == NULL)		/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		fwrite(&pi, sizeof(double), 1, fp);			/* 從pi寫入 */
		fclose(fp);
	}												/* 關閉文件 */

	/* 讀取操作 */
	if ((fp = fopen("PI.bin", "rb")) == NULL)		/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		fread(&pi, sizeof(double), 1, fp);			/* 讀取至pi */
		printf("從文件讀取的圓周率為%23.21f。\n", pi);
		fclose(fp);									/* 關閉文件 */
	}

	return 0;
}
```
## list1310.c
```c
/*
	用字元和字元編碼顯示檔內容
*/

#include <ctype.h>
#include <stdio.h>

int main(void)
{
	int n;
	unsigned long count = 0;
	unsigned char buf[16];
	FILE *fp;
	char fname[FILENAME_MAX];			/* 檔案名 */

	printf("檔案名：");
	scanf("%s", fname);

	if ((fp = fopen(fname, "rb")) == NULL)					/* 打開文件 */
		printf("\a檔打開失敗。\n");
	else {
		while ((n = fread(buf, 1, 16, fp)) > 0) {
			int i;

			printf("%08lX ", count);						/* 地址 */

			for (i = 0; i < n; i++)							/* 十六進位數 */
				printf("%02X ", (unsigned)buf[i]);

			if (n < 16)
				for (i = n; i < 16; i++)
					printf("   ");

			for (i = 0; i < n; i++)							/* 字元 */
				putchar(isprint(buf[i]) ? buf[i] : '.');

			putchar('\n');

			count += 16;
		}
		fclose(fp);											/* 關閉文件 */
	}

	return 0;
}
```
## listC1301.c
```c
/*
	顯示當前日期和時間
*/

#include <time.h>
#include <stdio.h>

int main()
{
	time_t current = time(NULL);				/* 當前日曆時間 */
	struct tm *timer = localtime(&current);		/* 分解時間（當地時間）*/
	char *wday_name[] = {"日", "一", "二", "三", "四", "五", "六"};

	printf("當前日期和時間為%d年%d月%d日(%s)%d時%d分%d秒。\n",
			timer->tm_year + 1900,			/* 年（加1900後求出）*/
			timer->tm_mon + 1,				/* 月（加1後求出）*/
			timer->tm_mday,					/* 日 */
			wday_name[timer->tm_wday],		/* 星期（0-6）*/
			timer->tm_hour,					/* 時 */
			timer->tm_min,					/* 分 */
			timer->tm_sec					/* 秒 */
		  );
	return 0;
}
```
## summary.c
```c
/*
	將標準輸入的資料寫入檔
*/

#include <stdio.h>

int main(void)
{
	int ch;
	FILE *fp;						/* 原檔案名 */
	char fname[FILENAME_MAX];		/* 目的檔案名 */

	printf("目的檔案名：");
	scanf("%s\n", fname);

	if ((fp = fopen(fname, "w")) == NULL)	/* 打開目的檔案 */
		printf("\a無法打開目的檔案。\n");
	else {
		while ((ch = fgetc(stdin)) != EOF)
			fputc(ch, fp);
		fclose(fp);							/* 關閉目的檔案 */
	}

	return 0;
}
```
